!function(){"use strict";angular.module("englishGalore",["ngAnimate","ngCookies","ngSanitize","ngMessages","ui.router","toastr","ui.bootstrap","ng-token-auth","ckeditor","ngFileUpload","angularUtils.directives.dirPagination"])}(),function(){"use strict";function e(e){var t=this;t.ok=function(){e.close(!0)},t.cancel=function(){e.dismiss()}}e.$inject=["$uibModalInstance"],angular.module("englishGalore").controller("FaqCategoryDestroyController",e)}(),function(){"use strict";function e(e){var t=this;t.ok=function(){e.close(!0)},t.cancel=function(){e.dismiss()}}e.$inject=["$uibModalInstance"],angular.module("englishGalore").controller("UnitDestroyController",e)}(),function(){"use strict";function e(e,t,i,a,o){var n=this;n.models=e,n.setLoading=function(e){return n.loading=!0,i.resolve(e)},n.unsetLoading=function(e){return n.loading=!1,i.resolve(e)},n.setLoading().then(t.showFaqCategories).then(function(){n.faq_categories=angular.copy(n.models.faq_categories)})["finally"](n.unsetLoading),n.addRow=function(){if(n.form&&n.form.faq_category_number){n.faq_categories||(n.faq_categories=[]);var e=angular.copy(n.form);n.faq_categories.push(e),n.form.faq_category_number="",n.form.title=""}},n.submit=function(){n.setLoading().then(function(){return t.saveFaqCategory({faq_categories:n.faq_categories})})["finally"](n.unsetLoading)},n.destroy=function(e){if(e.id)o.open({templateUrl:"app/pages/faq/category/destroy/destroy.html",controller:"FaqCategoryDestroyController",controllerAs:"faqCategoryDestroy",windowClass:"modal-default"}).result.then(function(){e._destroy=!0});else{var t=n.faq_categories.indexOf(e);n.faq_categories.splice(t,1)}}}e.$inject=["models","faq","$q","$scope","$uibModal"],angular.module("englishGalore").controller("CategoryController",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o,n,r){var s=this;s.models=e,s.data={availableOptions:[{id:1,name:"Dropdown"},{id:2,name:"Completamento"},{id:3,name:"Trova l’intruso"},{id:4,name:"Riordina la parola"},{id:5,name:"Riordina le frasi"},{id:6,name:"Connetti immagine/frase"},{id:7,name:"Connetti frase/frase"},{id:8,name:"Vero o Falso"},{id:9,name:"Memory"}]},s.setLoading=function(e){return s.loading=!0,a.resolve(e)},s.unsetLoading=function(e){return s.loading=!1,a.resolve(e)},s.uploadImageTipFile=function(e){s.form.image_tip=e,s.form.exercise_tips_image_filename=e.name},s.submitImageTip=function(e){var t="",a="";return i.uploadImageTipExercise(e,{filename:s.form.image_tip.name,type:s.form.image_tip.type}).then(function(e){return a=e.exercise_tips_image_filename,t=e.exercise_tips_image_url,i.uploadFileS3(e.upload_url,s.form.image_tip.type,s.form.image_tip)}).then(function(){s.form.exercise_tips_image_url=t,s.form.exercise_tips_image_filename=a,s.model.exercise_tips_image_url=t,s.model.exercise_tips_image_filename=a,delete s.form.image_tip})},s.submit=function(){s.setLoading(),s.form.exercise_type=s.exercise_type_temp.id,s.exercise_text_text_items?(s.form.exercise_image_text_items&&delete s.form.exercise_image_text_items,s.form.exercise_text&&delete s.form.exercise_text,s.form.exercise_text_text_items=angular.copy(s.exercise_text_text_items)):s.exercise_image_text_items?(s.form.exercise_text_text_items&&delete s.form.exercise_text_text_items,s.form.exercise_text&&delete s.form.exercise_text,s.form.exercise_image_text_items=angular.copy(s.exercise_image_text_items)):s.exercise_text&&(s.form.exercise_image_text_items&&delete s.exercise_image_text_items,s.form.exercise_text_text_items&&delete s.form.exercise_text_text_items,s.form.exercise_text=angular.copy(s.exercise_text));var e=[];return s.form.exercise_image_text_items&&angular.forEach(s.form.exercise_image_text_items,function(t){if(!t.id){var a={item_number:t.item_number,image_url:"",image_filename:t.image.file.name,text_en:t.text_en},o=i.createExerciseImage(s.form.id,{exercise_image_text_item:a}).then(function(e){t.id=e.exercise_image_text_item.id});e.push(o)}}),a.all(e).then(function(){return s.form.image_tip&&s.form.image_tip.name?s.submitImageTip(s.form.id):void 0}).then(function(){return i.updateExercise(s.form.id,{exercise:s.form})}).then(function(e){var t=!0;return angular.forEach(s.currentsection,function(i,a){t&&e.exercise.id==i.id&&(s.currentsection[a]=angular.copy(e.exercise),t=!1)}),e})["finally"](function(){r(function(){s.unsetLoading(),angular.element(s.currenttab).tab("show")},100)})},s.destroy=function(){n.open({templateUrl:"app/components/exercise/destroy/destroy.html",controller:"ExerciseDestroyController",controllerAs:"exerciseDestroy",windowClass:"modal-default"}).result.then(function(e){return s.setLoading(),e===!0?i.destroyExercise(s.form).then(function(){angular.forEach(s.currentsection,function(e,t){return s.form.id==e.id?void s.currentsection.splice(t,1):void 0})}):void 0})["finally"](function(){r(function(){s.unsetLoading(),"UnitSectionD"===s.section?(angular.element("#sectionD .tab-pane").removeClass("active in"),angular.element("#sectionD #info-tab-d").addClass("active in")):"UnitSectionE"===s.section&&(angular.element("#sectionE .tab-pane").removeClass("active in"),angular.element("#sectionE #info-tab-e").addClass("active in")),angular.element(s.tabinfo).tab("show")},100)})},o.$watch("exerciseShow.model",function(e,t){e!==t&&(s.form=angular.copy(s.model))})}e.$inject=["models","$state","units","$q","$scope","$uibModal","$timeout"];var t={restrict:"E",templateUrl:"app/components/exercise/exerciseShow/exerciseShow.html",controller:e,controllerAs:"exerciseShow",bindToController:!0,scope:{model:"=",section:"@",currentsection:"=",currenttab:"@",tabinfo:"@"}};return t}angular.module("englishGalore").directive("exerciseShow",e)}(),function(){"use strict";function e(e){var t=this;t.ok=function(){e.close(!0)},t.cancel=function(){e.dismiss()}}e.$inject=["$uibModalInstance"],angular.module("englishGalore").controller("ExerciseDestroyController",e)}(),function(){"use strict";function e(e,t){var i=this;i.models=e,i.users=t,t.showUsers()}e.$inject=["models","users"],angular.module("englishGalore").controller("UserController",e)}(),function(){"use strict";function e(e,t,i){var a=this;a.models=e,t.show(i.id).then(function(e){t.getSectionA(e.unit.unit_section_a.id),t.getSectionB(e.unit.unit_section_b.id),t.getSectionC(e.unit.unit_section_c.id),t.getSectionD(e.unit.unit_section_d.id),t.getSectionE(e.unit.unit_section_e.id)})}e.$inject=["models","units","$stateParams"],angular.module("englishGalore").controller("UnitController",e)}(),function(){"use strict";function e(e){var t=this;t.models=e}e.$inject=["models"],angular.module("englishGalore").controller("ProfileController",e)}(),function(){"use strict";function e(e,t,i,a){var o=this;o.user=o.user||{},o.login=function(){i.login(o.user).then(function(){t.go("main.admin.dashboard")})["catch"](a)}}e.$inject=["users","$state","galoreApi","errorManager"],angular.module("englishGalore").controller("LoginController",e)}(),function(){"use strict";function e(e,t,i,a,o){var n=this;n.models=e,n.setLoading=function(e){return n.loading=!0,i.resolve(e)},n.unsetLoading=function(e){return n.loading=!1,i.resolve(e)},n.setLoading().then(t.showFaqCategories).then(t.showFaq).then(function(){n.faqs=angular.copy(n.models.faqs),angular.forEach(n.faqs,function(e){angular.forEach(n.models.faq_categories,function(t){return t.id==e.faq_category_id?void(e.category_temp={faq_category_id:t.id,title:t.title}):void 0})})})["finally"](n.unsetLoading),n.addRow=function(){if(n.form){if(!n.form.category_type)return void o.error("Assegna una categoria","Error");n.faqs||(n.faqs=[]);var e=angular.copy(n.form);e.category_temp=angular.copy(e.category_type),n.faqs.push(e),n.form.faq_number="",n.form.question="",n.form.answer="",n.form.category_type=n.models.faq_categories[0],n.submit()}},n.submit=function(){n.setLoading().then(function(){return n.faqs_temp=angular.copy(n.faqs),angular.forEach(n.faqs_temp,function(e){e.category_type&&(e.faq_category_id=e.category_type.id,delete e.category_type,delete e.category_temp)}),t.saveFaq({faqs:n.faqs_temp})})["finally"](n.unsetLoading)}}e.$inject=["models","faq","$q","$scope","toastr"],angular.module("englishGalore").controller("GlossaryController",e)}(),function(){"use strict";function e(e,t,i,a,o){var n=this;n.models=e,n.setLoading=function(e){return n.loading=!0,i.resolve(e)},n.unsetLoading=function(e){return n.loading=!1,i.resolve(e)},n.setLoading().then(t.showFaqCategories).then(t.showFaq).then(function(){n.faqs=angular.copy(n.models.faqs),angular.forEach(n.faqs,function(e){angular.forEach(n.models.faq_categories,function(t){return t.id==e.faq_category_id?void(e.category_temp={faq_category_id:t.id,title:t.title}):void 0})})})["finally"](n.unsetLoading),n.addRow=function(){if(n.form){if(!n.form.category_type)return void o.error("Assegna una categoria","Error");n.faqs||(n.faqs=[]);var e=angular.copy(n.form);e.category_temp=angular.copy(e.category_type),n.faqs.push(e),n.form.faq_number="",n.form.question="",n.form.answer="",n.form.category_type=n.models.faq_categories[0],n.submit()}},n.submit=function(){n.setLoading().then(function(){return n.faqs_temp=angular.copy(n.faqs),angular.forEach(n.faqs_temp,function(e){e.category_type&&(e.faq_category_id=e.category_type.id,delete e.category_type,delete e.category_temp)}),t.saveFaq({faqs:n.faqs_temp})})["finally"](n.unsetLoading)}}e.$inject=["models","faq","$q","$scope","toastr"],angular.module("englishGalore").controller("FaqController",e)}(),function(){"use strict";function e(e){var t=this;t.models=e}e.$inject=["models"],angular.module("englishGalore").controller("DashboardController",e)}(),function(){"use strict";function e(e){var t=this;t.models=e}e.$inject=["models"],angular.module("englishGalore").controller("AdminController",e)}(),function(){"use strict";function e(e){var t=this;t.models=e}function t(){return function(e,t,i){t=parseInt(t),i=parseInt(i);for(var a=t;i>a;a++)e.push(a);return e}}e.$inject=["models"],angular.module("englishGalore").controller("CreateUnitController",e).filter("range",t)}(),angular.module("englishGalore").factory("utils",function(){var e=0,t={nextId:function(){return e++},findFirst:function(e,t){for(var i=0;i<e.length;i++)if(e[i].id===t)return e[i];return null},findFirstByName:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},removeFirst:function(e,t){for(var i=!1,a=0;a<e.length;a++)if(e[a].id===t){i=a;break}e.splice(i,1)},sortByOrder:function(e){return angular.isArray(e)?e.sort(function(e,t){return e.order>t.order?1:e.order<t.order?-1:0}):e},mergeOrPush:function(e,i){var a=t.merge(e,i);return a||(a=i,e.push(a)),a},merge:function(e,i){var a=t.findFirst(e,i.id);return a&&angular.merge(a,i),a}};return t}),function(){"use strict";function e(){function e(e,t){t.bind("change",function(t){var i=t.target.files,a=i[0];e.model.file=a,e.$apply()})}var t={restrict:"E",templateUrl:"app/components/uploadFile/uploadFile.html",link:e,scope:{model:"="}};return t}angular.module("englishGalore").directive("file",e)}(),angular.module("englishGalore").factory("uiState",function(){var e={};return e}),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,i.publish=function(){t.publishUnit(i.model.id).then(function(){i.model.published=!0})},i.unpublish=function(){t.unpublishUnit(i.model.id).then(function(){i.model.published=!1})}}e.$inject=["models","units"];var t={restrict:"E",templateUrl:"app/components/toggleSwitch/toggleSwitch.html",controller:e,controllerAs:"toggleSwitch",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("toggleSwitch",e)}(),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,i.uploadVideoFile=function(e){i.model.video=e,i.model.video_filename=e.name},i.uploadImageTipFile=function(e){i.model.image_tip=e,i.model.video_tips_image_filename=e.name},t.$watch("tabVideo.model",function(e,t){e!==t&&(i.model.video={})})}e.$inject=["models","$scope"];var t={restrict:"E",templateUrl:"app/components/tabVideo/tabVideo.html",controller:e,controllerAs:"tabVideo",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("tabVideo",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/components/tabTheoryInDepth/tabTheoryInDepth.html",scope:{model:"="}};return e}angular.module("englishGalore").directive("tabTheoryInDepth",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.models=e,t.uploadImageTipFile=function(e){t.model.image_tip_theory=e,t.model.exercise_tips_image_filename=e.name}}e.$inject=["models"];var t={restrict:"E",templateUrl:"app/components/tabTheory/tabTheory.html",controller:e,controllerAs:"tabTheory",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("tabTheory",e)}(),function(){"use strict";function e(){var e={restrict:"E",templateUrl:"app/components/tabInfoSection/tabInfoSection.html",scope:{model:"="}};return e}angular.module("englishGalore").directive("tabInfoSection",e)}(),function(){"use strict";function e(){function e(e,t){var i=this;i.models=t,i.uploadImageTipFile=function(e){i.model.image_tip=e,i.model.dialogue_tips_image_filename=e.name},i.uploadAudioFile=function(e){i.model.files_audio=e},i.removeFile=function(e,t){e.id&&i.model.audio_items?angular.forEach(i.model.audio_items,function(t,a){t.id==e.id&&(t._destroy=!0,i.model.audio_items_temp[a]._destroy=!0)}):i.model.files_audio.splice(t,1)},e.dynamicPopover={templateUrl:"app/components/sectionB/infoPopoverTemplate.html"},e.$watch("tabDialogue.model.audio_items",function(e,t){e!==t&&(i.model.audio_items_temp=angular.copy(i.model.audio_items))})}e.$inject=["$scope","models"];var t={restrict:"E",templateUrl:"app/components/tabDialogue/tabDialogue.html",controller:e,controllerAs:"tabDialogue",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("tabDialogue",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o,n,r){var s=this;s.models=e,s.setLoading=function(){return s.loading=!0,a.resolve()},s.unsetLoading=function(){return s.loading=!1,a.resolve()},s.submit=function(e){return s.setLoading().then(function(){return i.update(e,{unit:s.form})})["finally"](s.unsetLoading)},s.destroy=function(){r.open({templateUrl:"app/pages/unit/destroy/destroy.html",controller:"UnitDestroyController",controllerAs:"unitDestroy",windowClass:"modal-default"}).result.then(function(e){return e===!0?i.destroyUnit(s.form):void 0}).then(t.go("main.admin.dashboard"))},s.animationsEnabled=!0,o.$watch("sectionUnit.unit",function(e,t){e!==t&&(s.form=angular.copy(s.models.current_unit))})}e.$inject=["models","$state","units","$q","$scope","$http","$uibModal"];var t={restrict:"E",templateUrl:"app/components/sectionUnit/sectionUnit.html",controller:e,controllerAs:"sectionUnit",bindToController:!0,scope:{unit:"="}};return t}angular.module("englishGalore").directive("sectionUnit",e)}(),function(){"use strict";function e(){function e(e,t){var i=!1,a=angular.element(e.showOnHover);e.$watch("showOnHover",function(){a.removeClass("show-on-hover-target").removeClass("not-visible").removeClass("show-animate"),a=angular.element(e.showOnHover),a.addClass("show-on-hover-target"),e.showAnimate&&a.addClass("show-animate"),e.updateVisibility()}),e.updateVisibility=function(){i?a.removeClass("not-visible"):a.addClass("not-visible")},t.hover(function(){i||(i=!0,e.updateVisibility())},function(){i&&(i=!1,e.updateVisibility())})}var t={restrict:"A",link:e,scope:{showOnHover:"@",showAnimate:"="}};return t}angular.module("englishGalore").directive("showOnHover",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o){var n=this;n.models=e,n.activeTabIndex=0,n.tabs=[],n.setLoading=function(e){return n.loading=!0,a.resolve(e)},n.unsetLoading=function(e){return n.loading=!1,a.resolve(e)},n.submit=function(){return n.setLoading().then(i.updateSection("e",n.form.id,{unit_section_e:n.form}))["finally"](n.unsetLoading)},n.getExercises=function(e){return e?n.setLoading().then(i.getExercises("e",n.form.id))["finally"](n.unsetLoading):void 0},o.$watch("sectionE.section",function(e,t){e!==t&&(n.form=angular.copy(n.section))}),o.$watch("sectionE.models.current_unit_sections_e_exercises.exercises",function(e,t){e!==t&&(n.models.current_unit_sections_e_exercises.exercises=e)})}e.$inject=["models","$state","units","$q","$scope"];var t={restrict:"E",templateUrl:"app/components/sectionE/sectionE.html",controller:e,controllerAs:"sectionE",bindToController:!0,scope:{section:"="}};return t}angular.module("englishGalore").directive("sectionE",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o){var n=this;n.models=e,n.setLoading=function(){return n.loading=!0,a.resolve()},n.unsetLoading=function(e){return n.loading=!1,a.resolve(e)},n.getExercises=function(e){return e?n.setLoading().then(i.getExercises("d",n.form.id))["finally"](n.unsetLoading):void 0},n.submitUpload=function(e){var t="",a="";return i.uploadVideo("d",e,{filename:n.form.video.name,type:n.form.video.type}).then(function(e){return a=e.video_filename,t=e.video_url,i.uploadFileS3(e.upload_url,n.form.video.type,n.form.video)}).then(function(){n.form.video_url=t,n.section.video_url=t,n.form.video_filename=a,n.section.video_filename=a,delete n.form.video})},n.submitImageTip=function(e){var t="",a="";return i.uploadImageTip("d",e,"video_tips_image_upload",{filename:n.form.image_tip.name,type:n.form.image_tip.type}).then(function(e){return a=e.video_tips_image_filename,t=e.video_tips_image_url,i.uploadFileS3(e.upload_url,n.form.image_tip.type,n.form.image_tip)}).then(function(){n.form.video_tips_image_url=t,n.form.video_tips_image_filename=a,n.section.video_tips_image_url=t,n.section.video_tips_image_filename=a,delete n.form.image_tip})},n.submitImageTheoryTip=function(e){var t="",a="";return i.uploadImageTip("d",e,"theory_text_tips_image_upload",{filename:n.form.image_tip_theory.name,type:n.form.image_tip_theory.type}).then(function(e){return a=e.theory_text_tips_image_filename,t=e.theory_text_tips_image_url,i.uploadFileS3(e.upload_url,n.form.image_tip_theory.type,n.form.image_tip_theory)}).then(function(){n.form.theory_text_tips_image_url=t,n.form.theory_text_tips_image_filename=a,n.section.theory_text_tips_image_url=t,n.section.theory_text_tips_image_filename=a,delete n.form.image_tip_theory})},n.submitSection=function(e){return i.updateSection("d",e,{unit_section_d:n.form})},n.submit=function(){return n.setLoading().then(function(){return n.form.video&&n.form.video.name?n.submitUpload(n.section.id):n.form.image_tip&&n.form.image_tip.name?n.submitImageTip(n.section.id):n.form.image_tip_theory&&n.form.image_tip_theory.name?n.submitImageTheoryTip(n.section.id):void 0}).then(function(){return n.submitSection(n.section.id)})["finally"](n.unsetLoading)},n.removeVideo=function(){n.form.video_url="",n.form.video=null},o.$watch("sectionD.section",function(e,t){e!==t&&(n.form=angular.copy(n.section))})}e.$inject=["models","$state","units","$q","$scope"];var t={restrict:"E",templateUrl:"app/components/sectionD/sectionD.html",controller:e,controllerAs:"sectionD",bindToController:!0,scope:{section:"="}};return t}angular.module("englishGalore").directive("sectionD",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o,n){var r=this;r.models=e,r.counterC=n.nextId(),r.activeTabIndex=0,r.setLoading=function(e){return r.loading=!0,a.resolve(e)},r.unsetLoading=function(e){return r.loading=!1,a.resolve(e)},r.submit=function(){return r.setLoading().then(i.updateSection("c",r.form.id,{unit_section_c:r.form}))["finally"](r.unsetLoading)},r.getExercises=function(e){return e?r.setLoading().then(function(){return i.getExercises("c",r.form.id)}).then(function(e){r.form.current_unit_sections_c_exercises=[],r.form.current_unit_sections_c_exercises.exercises=angular.copy(e.exercises)})["finally"](r.unsetLoading):void 0},o.$watch("sectionC.section",function(e,t){e!==t&&(r.form=angular.copy(r.section))})}e.$inject=["models","$state","units","$q","$scope","utils"];var t={restrict:"E",templateUrl:"app/components/sectionC/sectionC.html",controller:e,controllerAs:"sectionC",bindToController:!0,scope:{section:"="}};return t}angular.module("englishGalore").directive("sectionC",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o,n){var r=this;r.models=e;var s=[];r.changeStatusSection=function(){r.submit()},r.setLoading=function(e){return r.loading=!0,a.resolve(e)},r.unsetLoading=function(e){return r.loading=!1,a.resolve(e)},r.createFilesAudio=function(){var e="";r.form.audio_items||(r.form.audio_items=[]),angular.forEach(r.form.files_audio,function(t){var a={};if(t&&t.name&&!t._destroy){var o=i.createFileAudio(r.section.id,{audio_item:{audio_url:"",audio_filename:t.name}}).then(function(o){return a.id=o.audio_item.id,a.file_name=o.audio_item.audio_filename,i.uploadFileAudio(r.section.id,o.audio_item.id,{filename:t.name,type:t.type}).then(function(a){return e=a.audio_url,i.uploadFileS3(a.upload_url,t.type,t)}).then(function(){a.audio_url=e,a.audio_filename=a.file_name,r.form.audio_items.push(a)})});s.push(o)}})},r.submitImageTip=function(e){var t="",a="";return i.uploadImageTip("b",e,"dialogue_tips_image_upload",{filename:r.form.image_tip.name,type:r.form.image_tip.type}).then(function(e){return a=e.dialogue_tips_image_filename,t=e.dialogue_tips_image_url,i.uploadFileS3(e.upload_url,r.form.image_tip.type,r.form.image_tip)}).then(function(){r.form.dialogue_tips_image_url=t,r.form.dialogue_tips_image_filename=a,r.section.dialogue_tips_image_url=t,r.section.dialogue_tips_image_filename=a,delete r.form.image_tip})},r.submitSection=function(){return delete r.form.audio_items_temp,i.updateSection("b",r.form.id,{unit_section_b:r.form})},r.submit=function(){return r.setLoading().then(function(){return r.form.image_tip&&r.form.image_tip.name?r.submitImageTip(r.section.id):r.form.files_audio&&r.form.files_audio.length>0?(r.createFilesAudio(),a.all(s)):void 0}).then(function(){return delete r.form.video,delete r.form.files_audio,r.submitSection(r.section.id)}).then(function(e){r.form.audio_items=angular.copy(e.unit_section_b.audio_items),s=[]})["finally"](r.unsetLoading)},o.$watch("sectionB.section",function(e,t){e!==t&&(r.form=angular.copy(r.section))})}e.$inject=["models","$state","units","$q","$scope","$timeout"];var t={restrict:"E",templateUrl:"app/components/sectionB/sectionB.html",controller:e,controllerAs:"sectionB",bindToController:!0,scope:{section:"="}};return t}angular.module("englishGalore").directive("sectionB",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o){var n=this;n.models=e,n.setLoading=function(){return n.loading=!0,a.resolve()},n.unsetLoading=function(e){return n.loading=!1,a.resolve(e)},n.submitUpload=function(e){var t="",a="";return i.uploadVideo("a",e,{filename:n.form.video.name,type:n.form.video.type}).then(function(e){return a=e.video_filename,t=e.video_url,i.uploadFileS3(e.upload_url,n.form.video.type,n.form.video)}).then(function(){n.form.video_url=t,n.form.video_filename=a,n.section.video_url=t,n.section.video_filename=a,delete n.form.video})},n.submitImageTip=function(e){var t="",a="";return i.uploadImageTip("a",e,"video_tips_image_upload",{filename:n.form.image_tip.name,type:n.form.image_tip.type}).then(function(e){return a=e.video_tips_filename,t=e.video_tips_image_url,i.uploadFileS3(e.upload_url,n.form.image_tip.type,n.form.image_tip)}).then(function(){n.form.video_tips_image_url=t,n.form.video_tips_filename=a,n.section.video_tips_image_url=t,n.section.video_tips_filename=a,delete n.form.image_tip})},n.submitSection=function(e){return i.updateSection("a",e,{unit_section_a:n.form})},n.submit=function(){return n.setLoading().then(function(){return n.form.video&&n.form.video.name?n.submitUpload(n.section.id):n.form.image_tip&&n.form.image_tip.name?n.submitImageTip(n.section.id):void 0}).then(function(){return delete n.form.video,n.submitSection(n.section.id)})["finally"](n.unsetLoading)},n.removeVideo=function(){n.form.video_url="",o.file=null},o.$watch("sectionA.section",function(e,t){e!==t&&(n.form=angular.copy(n.section))})}e.$inject=["models","$state","units","$q","$scope"];var t={restrict:"E",templateUrl:"app/components/sectionA/sectionA.html",controller:e,controllerAs:"sectionA",bindToController:!0,scope:{section:"="}};return t}angular.module("englishGalore").directive("sectionA",e)}(),angular.module("englishGalore").factory("resPipe",["longTermMemory","models","utils","$log",function(e,t,i,a){var o={parseResponse:function(e){for(var t=0;t<n.validModels.length;t++)if(e[n.validModels[t]]){e._model=n.validModels[t];break}return e},injectDefaults:function(e){var t=n.fetchModel(e);if(t)switch(e._model){case"projects":case"project":n.forEachModel(t,n.injectProjectDefaults);break;case"user":n.forEachModel(t,n.injectUserDefaults)}return e},markReload:function(e){var t=n.fetchModel(e);return n.forEachModel(t,function(e){e._reload=!0}),e},markDestroyed:function(e){var t=n.fetchModel(e);return n.forEachModel(t,function(e){e._destroyed=!0}),e},removeUnitFromLevels:function(e,i){if(t.levels){for(var a=0;a<t.levels[i].units.length;a++){var o=t.levels[i].units[a];o.id===e&&t.levels[i].units.splice(a,1)}return t.levels}},sortFramesAndComments:function(e){var t=n.fetchModel(e);return angular.isArray(t)?angular.forEach(t,function(e){n.sortFramesAndCommentsSingle(e)}):t&&n.sortFramesAndCommentsSingle(t),e},sortFramesCache:function(e){var t=n.getRelatedProject(e);return t&&t.frames&&i.sortByOrder(t.frames),e},sortCommentsCache:function(e){var t=n.getRelatedFrame(e);return t&&t.comments&&i.sortByOrder(t.comments),e},updateCache:function(e){var i=n.fetchModel(e),a=null;if(i)switch(e._model){case"levels":e[e._model]=n.updateModelCache(t.levels,i);break;case"faq_categories":e[e._model]=n.updateModelCache(t.faq_categories,i);break;case"faqs":e[e._model]=n.updateModelCache(t.faqs,i);break;case"users":e[e._model]=n.updateModelCache(t.users,i);break;case"unit":a=n.getRelatedLevel(e),e[e._model]=n.updateModelCache(a.units,i);break;case"unit_section_a":e[e._model]=n.updateModelCache(t.current_unit_section_a,i);break;case"unit_section_b":e[e._model]=n.updateModelCache(t.current_unit_section_b,i);break;case"unit_section_c":e[e._model]=n.updateModelCache(t.current_unit_section_c,i);break;case"unit_section_d":e[e._model]=n.updateModelCache(t.current_unit_section_d,i);break;case"unit_section_e":e[e._model]=n.updateModelCache(t.current_unit_section_e,i);break;case"unit_sections_c_exercises":e[e._model]=n.updateModelCache(t.current_unit_sections_c_exercises,i);break;case"unit_sections_d_exercises":e[e._model]=n.updateModelCache(t.current_unit_sections_d_exercises,i);break;case"unit_sections_e_exercises":e[e._model]=n.updateModelCache(t.current_unit_sections_e_exercises,i);break;case"exercise":e[e._model]=n.updateModelCache(t.current_exercise,i);break;case"user":e[e._model]=n.updateModelCache(t.user,i)}return e},cleanCache:function(e){var i=n.fetchModel(e);if(i)switch(e._model){case"users":t.users=[]}return e},setProjectAsMine:function(e){var t=n.fetchModel(e);return n.forEachModel(t,n.setProjectAsMineSingle),e},updateCurrent:function(e){var i=n.fetchModel(e);return i._destroyed?delete t["current_"+e._model]:t["current_"+e._model]=e[e._model],e},memorizeCache:function(i){return angular.forEach(t,function(t,i){e.memorize(i,t)}),i},log:function(e){return a.info(e),e},"debugger":function(e){return e}},n={validModels:["levels","unit","unit_section_a","unit_section_b","unit_section_c","unit_section_d","unit_section_e","unit_sections_c_exercises","unit_sections_d_exercises","unit_sections_e_exercises","faq_categories","faqs","exercise","users","user"],fetchModel:function(e){if(e._model&&e[e._model]&&"users"==e._model){var t={users:e[e._model],pagination:e.pagination};return t}return e._model&&e[e._model]?e[e._model]:null},getRelatedLevel:function(e){return i.findFirst(t.levels,e[e._model].level_id)},forEachModel:function(e,t){angular.isArray(e)?angular.forEach(e,t):e&&t(e)},injectUserDefaults:function(e){return e},sortFramesAndCommentsSingle:function(e){i.sortByOrder(e.frames),angular.forEach(e.frames,function(e){i.sortByOrder(e.comments)})},updateModelCache:function(e,t){var a=t;return angular.isArray(e)&&(angular.isArray(t)?(a=[],angular.forEach(t,function(t){if(t){var i=n.updateModelCache(e,t);i&&a.push(i)}})):t&&(t._reload?(i.removeFirst(e,t.id),delete t._reload,a=i.mergeOrPush(e,t)):t._destroyed?i.removeFirst(e,t.id):a=i.mergeOrPush(e,t))),a}};return o}]),angular.module("englishGalore").factory("longTermMemory",function(){var e={memorize:function(e,t){localStorage[e]=angular.toJson(t)},remember:function(e){try{return angular.fromJson(localStorage[e])}catch(t){return delete localStorage[e],null}},forget:function(e){delete localStorage[e]},oblivion:function(){localStorage.clear()}};return e}),angular.module("englishGalore").factory("galoreUploader",["Upload","$q","utils","$timeout",function(e,t,i,a){var o=0,n={files:[],total:{},upload:function(s,l,c){var d=o++ +"";return n.files.push({id:d,status:"queued",name:s,size:l}),r.updateTotal(),e.upload(c).then(function(e){var t=i.findFirst(n.files,d);return t.status="success",r.updateTotal(),a(function(){n.dismiss(d)},5e3),e},function(e){var o=i.findFirst(n.files,d);return o.status="error",o.error=e,r.updateTotal(),a(function(){n.dismiss(d)},5e3),t.reject(e)},function(e){var t=i.findFirst(n.files,d);t.status="uploading",t.loaded=e.loaded,t.size=e.total,t.percentage=parseInt(100*e.loaded/e.total),r.updateTotal()})},dismiss:function(e){for(var t=[],i=0;i<n.files.length;i++)n.files[i].id!==e&&t.push(n.files[i]);n.files=t,r.updateTotal()}},r={updateTotal:function(){n.total.loaded=0,n.total.size=0,n.total.processing=0,n.total.uploading=0,n.total.canceled=0,n.total.error=0,n.total.success=0,n.total.queued=0,angular.forEach(n.files,function(e){switch(e.status){case"queued":n.total.queued++,n.total.size+=e.size;break;case"uploading":n.total.loaded+=e.loaded,n.total.size+=e.size,n.total.uploading++;break;case"success":n.total.success++;break;case"error":n.total.error++;break;case"cancel":n.total.canceled++}n.total.processing++}),n.total.percentage=parseInt(100*n.total.loaded/n.total.size)}};return r.updateTotal(),n}]),function(){"use strict";function e(e){function t(t){t.expanded=!1,t.uploader=e}var i={restrict:"E",link:t,scope:{},templateUrl:"app/components/galoreUploader/galoreUploader.html"};return i}e.$inject=["galoreUploader"],angular.module("englishGalore").directive("galoreUploader",e)}(),function(){"use strict";function e(e){function t(e,t,i){var a=this;a.models=e,a.state=t,a.addUnit=function(e){var t,o,n=function(e){return e.sort(function(e,t){var i=e.unit_code,a=t.unit_code;return a>i?-1:i>a?1:0}),e};a.models.levels.length>0&&angular.forEach(a.models.levels,function(i){if(i.id!==e);else if(i.units.length>0){var a=n(i.units);t=a[a.length-1].unit_code,o=a[a.length-1].sub_unit_code+1}else t=1,o=1}),a.newUnit={level_id:e,title:"Unità "+t+"."+o,unit_code:t,sub_unit_code:o},i.create({unit:a.newUnit})},a.checkCurrentUnit=function(e){return a.models.current_unit&&a.models.current_unit.id==e.id?"levels current-unit":"levels other-unit"},a.checkCurrentLevel=function(e){return a.models.current_unit&&a.models.current_unit.level_id==e.id?"levels active":void 0},a.checkDashboard=function(){return"main.admin.dashboard"===a.state.current.name?(angular.element(".levels").removeClass("active"),"active"):void 0}}function i(){e(function(){angular.element(window).trigger("resize")})}t.$inject=["models","$state","units"];var a={restrict:"E",templateUrl:"app/components/galoreSidebar/galoreSidebar.html",controller:t,controllerAs:"sidebar",link:i,bindToController:!0,replace:!0};return a}e.$inject=["$timeout"],angular.module("englishGalore").directive("galoreSidebar",e)}(),function(){"use strict";function e(e){function t(e){var t=this;t.models=e,t.models.sidebar_mini=!1,t.changeLevelsIcon=function(e){e?t.models.sidebar_mini=!0:t.models.sidebar_mini=!1}}function i(){e(function(){angular.element(window).trigger("resize");
})}t.$inject=["models"];var a={restrict:"E",templateUrl:"app/components/galoreHeader/galoreHeader.html",controller:t,controllerAs:"header",link:i,bindToController:!0};return a}e.$inject=["$timeout"],angular.module("englishGalore").directive("galoreHeader",e)}(),function(){"use strict";function e(e){function t(e){var t=this;t.models=e}function i(){e(function(){angular.element(window).trigger("resize")})}t.$inject=["models"];var a={restrict:"E",templateUrl:"app/components/galoreFooter/galoreFooter.html",controller:t,controllerAs:"footer",link:i,bindToController:!0};return a}e.$inject=["$timeout"],angular.module("englishGalore").directive("galoreFooter",e)}(),angular.module("englishGalore").factory("galoreApi",["$q","$http","$auth","apiUrl","unitApiUrl","showLevelsApiUrl","sectionApiUrl","exercisesApiUrl","userApiUrl","faqCategoriesApiUrl","faqApiUrl","resPipe",function(e,t,i,a,o,n,r,s,l,c,d,u){var m={},p={cacheOrHttp:function(i,o,n,r,s,l){var c=i+o+(n?angular.toJson(n):""),d={};if(i&&(d.method=i.toUpperCase()),l?d.url=l:d.url=a+o,n&&(d.data=n),r&&(d.headers=r),!m[c]){var u,p=!1;switch(i){case"get":case"GET":case"post":case"POST":case"put":case"PUT":case"patch":case"PATCH":case"delete":case"DELETE":u=t(d);break;default:p=!0,u=e.reject()}p||(m[c]=u["finally"](function(t,i){return s||delete m[c],i?e.reject(i):t?t:void 0}))}return m[c]},uploadFileS3http:function(i,a,o){return t({method:"PUT",url:i,headers:{"Content-Type":a,"if-modified-since":void 0},data:o})["finally"](function(t,i){return i?e.reject(i):t?t:void 0})},expect200:function(t){return 200===t.status?t.data:e.reject(t)},expect201:function(t){return 201===t.status?t.data:e.reject(t)},expect204:function(t){return 204===t.status?t.data:e.reject(t)}},g={login:function(t){return m.login||(m.login=i.submitLogin(t)["finally"](function(t,i){return delete m.login,i?e.reject(i):t?t:void 0})),m.login},getMe:function(){return p.cacheOrHttp("get","/v1/me").then(p.expect200)},logout:function(){return m.logout||(m.logout=i.signOut()["finally"](function(t,i){return delete m.logout,i?e.reject(i):t?t:void 0})),m.logout},changePassword:function(t){return m.changePassword||(m.changePassword=i.updatePassword(t)["finally"](function(t,i){return delete m.changePassword,i?e.reject(i):t?t:void 0})),m.changePassword},createUnit:function(e){return p.cacheOrHttp("post",o,e).then(p.expect201)},destroyUnit:function(e){return p.cacheOrHttp("delete",o+"/"+e.id).then(p.expect204).then(function(){return{unit:e}})},destroyExercise:function(e){return p.cacheOrHttp("delete",s+"/"+e.id).then(p.expect204).then(function(){return{exercise:e}})},deleteFileAudio:function(e,t){return p.cacheOrHttp("delete",r+"b/audio_items/"+e.id+"/"+t).then(p.expect204).then(function(){return{section:e}})},createExercise:function(e){return p.cacheOrHttp("post",s,e).then(p.expect201)},createExerciseImage:function(e,t){return p.cacheOrHttp("post",s+"/"+e+"/exercise_image_text_items",t).then(p.expect201)},createFileAudio:function(e,t){return p.cacheOrHttp("post",r+"b/"+e+"/audio_items",t).then(p.expect201)},saveFaq:function(e){return p.cacheOrHttp("post",d+"/save",e).then(p.expect200)},saveFaqCategory:function(e){return p.cacheOrHttp("post",c+"/save",e).then(p.expect200)},showUnit:function(e){return p.cacheOrHttp("get",o+"/"+e).then(p.expect200)},showUsers:function(){return p.cacheOrHttp("get",l+"/").then(p.expect200)},showFaqCategories:function(){return p.cacheOrHttp("get",c).then(p.expect200)},showFaq:function(){return p.cacheOrHttp("get",d).then(p.expect200)},getSectionA:function(e){return p.cacheOrHttp("get",r+"a/"+e).then(p.expect200)},getSectionB:function(e){return p.cacheOrHttp("get",r+"b/"+e).then(p.expect200)},getSectionC:function(e){return p.cacheOrHttp("get",r+"c/"+e).then(p.expect200)},getSectionD:function(e){return p.cacheOrHttp("get",r+"d/"+e).then(p.expect200)},getSectionE:function(e){return p.cacheOrHttp("get",r+"e/"+e).then(p.expect200)},getExercises:function(e,t){return p.cacheOrHttp("get",r+e+"/"+t+"/exercises").then(p.expect200)},getUserPage:function(e){return p.cacheOrHttp("get",l+"?page="+e).then(p.expect200)},indexLevels:function(){return p.cacheOrHttp("get",n).then(p.expect200)},updateUnit:function(e,t){return p.cacheOrHttp("put",o+"/"+e,t).then(p.expect200)},updateSection:function(e,t,i){return p.cacheOrHttp("put",r+e+"/"+t,i).then(u.log).then(p.expect200)},updateExercise:function(e,t){return p.cacheOrHttp("put",s+"/"+e,t).then(p.expect200)},uploadVideo:function(e,t,i){return p.cacheOrHttp("post",r+e+"/"+t+"/video_upload",i).then(p.expect200)},uploadFileS3:function(e,t,i){return p.uploadFileS3http(e,t,i).then(p.expect200)},uploadFile:function(e,t,i){return p.cacheOrHttp("post",s+"/"+e+"/exercise_image_text_items/"+t+"/image_upload",i).then(p.expect200)},uploadFileAudio:function(e,t,i){return p.cacheOrHttp("post",r+"b/"+e+"/audio_items/"+t+"/audio_upload",i).then(p.expect200)},uploadImageTip:function(e,t,i,a){return p.cacheOrHttp("post",r+e+"/"+t+"/"+i,a).then(p.expect200)},uploadImageTipExercise:function(e,t){return p.cacheOrHttp("post",s+"/"+e+"/exercise_tips_image_upload",t).then(p.expect200)},publishUnit:function(e){return p.cacheOrHttp("post",o+"/"+e+"/publish").then(p.expect204)},unpublishUnit:function(e){return p.cacheOrHttp("post",o+"/"+e+"/unpublish").then(p.expect204)}};return g}]),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,i.addRow=function(){i.model||(i.model=[]);var e=angular.copy(i.exercise_text_text_item);i.model.push(e),i.exercise_text_text_item.item_number="",i.exercise_text_text_item.text_it="",i.exercise_text_text_item.text_en=""},t.$watch("exerciseTextText.model",function(e,t){e!==t&&(i.form=angular.copy(i.model))})}e.$inject=["models","$scope"];var t={restrict:"E",templateUrl:"app/components/exerciseTextText/exerciseTextText.html",controller:e,controllerAs:"exerciseTextText",bindToController:!0,scope:{model:"=",idEx:"="}};return t}angular.module("englishGalore").directive("exerciseTextText",e)}(),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,i.addRow=function(){i.model||(i.model=[]);var e=angular.copy(i.exercise_image_text_item);i.exercise_image_text_item.image&&(e.image=i.exercise_image_text_item.image),i.model.push(e),i.exercise_image_text_item.image={},i.exercise_image_text_item.item_number="",i.exercise_image_text_item.text_en=""},i.uploadImageFile=function(e){i.exercise_image_text_item.image={file:e}},i.changeImageFile=function(e,t){t.image={file:e}},t.$watch("exerciseImageText.model",function(e,t){e!==t&&(i.form=angular.copy(i.model))})}e.$inject=["models","$scope"];var t={restrict:"E",templateUrl:"app/components/exerciseImageText/exerciseImageText.html",controller:e,controllerAs:"exerciseImageText",bindToController:!0,scope:{model:"=",idex:"="}};return t}angular.module("englishGalore").directive("exerciseImageText",e)}(),function(){"use strict";function e(){function e(e,t,i,a,o){var n=this;n.models=e,n.data={availableOptions:[{id:1,name:"Dropdown"},{id:2,name:"Completamento"},{id:3,name:"Trova l’intruso"},{id:4,name:"Riordina la parola"},{id:5,name:"Riordina le frasi"},{id:6,name:"Connetti immagine/frase"},{id:7,name:"Connetti frase/frase"},{id:8,name:"Vero o Falso"},{id:9,name:"Memory"}],selectedOption:{id:1,name:"Dropdown"}},n.setLoading=function(e){return n.loading=!0,a.resolve(e)},n.unsetLoading=function(e){return n.loading=!1,a.resolve(e)},n.uploadImageTipFile=function(e){n.form.image_tip=e,n.form.exercise_tips_image_filename=e.name},n.submitImageTip=function(e){var t="",a="";return i.uploadImageTipExercise(e,{filename:n.form.image_tip.name,type:n.form.image_tip.type}).then(function(e){return a=e.exercise_tips_image_filename,t=e.exercise_tips_image_url,i.uploadFileS3(e.upload_url,n.form.image_tip.type,n.form.image_tip)}).then(function(){return n.form.exercise_tips_image_url=t,n.form.exercise_tips_image_filename=a,n.model.exercise_tips_image_url=t,n.model.exercise_tips_image_filename=a,delete n.form.image_tip,i.updateExercise(n.form.id,{exercise:n.form})})},n.submit=function(){return n.form.unit_section_id=n.model.id,n.form.unit_section_type=n.section,n.form.exercise_type=n.form.exercise_type.id,delete n.form.exercise_text_text,delete n.form.exercise_image_text,delete n.form.exercise_text,n.setLoading().then(function(){return i.createExercise({exercise:n.form})}).then(function(e){return n.form.id=e.exercise.id,n.form.image_tip&&n.form.image_tip.name?n.submitImageTip(n.form.id):void 0}).then(function(){n.currentsection.push(angular.copy(n.form)),n.models.activeTabIndex=0,n.form.exercise_tips="",n.form.title="",n.form.subtitle="",n.form.exercise_type={id:1,name:"Dropdown"},o(function(){n.unsetLoading(),"UnitSectionD"===n.section?(angular.element("#sectionD .tab-pane").removeClass("active in"),angular.element("#sectionD #info").addClass("active in")):"UnitSectionE"===n.section&&(angular.element("#sectionE .tab-pane").removeClass("active in"),angular.element("#sectionE #info").addClass("active in")),angular.element(n.tabinfo).tab("show")},100)})["finally"](function(){n.unsetLoading()})}}e.$inject=["models","$state","units","$q","$timeout"];var t={restrict:"E",templateUrl:"app/components/exercise/exercise.html",controller:e,controllerAs:"exercise",bindToController:!0,scope:{model:"=",section:"@",currentsection:"=",tabinfo:"@"}};return t}angular.module("englishGalore").directive("exercise",e)}(),angular.module("englishGalore").factory("errorManager",["toastr","$log","$state","$q","longTermMemory","models",function(e,t,i,a,o,n){var r=function(r){if(t.error(r),angular.isObject(r)&&r.status)switch(r.status){case 401:i.go("main.logout"),r=r.data;break;case 403:i.go("main.home"),r=r.data;break;case 422:r=r.data;break;case 404:r=r.data;break;case 413:r="Il file che stai cercando di caricare è troppo grande";break;case-1:r="Il server non è raggiungibile o non sei connesso ad Internet"}var s=function(e){if(angular.isString(e))return e;if(angular.isObject(e)&&(e.full_messages||e.error_description||e.errors||e.data||e.msg||e.error))return s(e.full_messages||e.error_description||e.errors||e.data||e.msg||e.error);if(angular.isArray(e)){for(var t=[],i=0;i<e.length;i++)t[i]=s(e[i]);return s(t.join("<br>"))}return o.oblivion(),n.reset(),"Si è verificato un errore imprevisto. Si prega di riprovare più tardi."};return e.error(s(r),"Errore"),a.reject(r)};return r}]),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,t.options={language:"it",allowedContent:!0,entities:!1,toolbar:"Full",colorButton_enableMore:!1,colorButton_enableAutomatic:!1,autoParagraph:!1,toolbar_Full:[{name:"document",items:["Source","-","Save"]},{name:"tools",items:["Maximize"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"]}]}}e.$inject=["models","$scope"];var t={restrict:"E",templateUrl:"app/components/ckeditorColor/ckeditorColor.html",controller:e,controllerAs:"ckeditorColor",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("ckeditorStandard",e)}(),function(){"use strict";function e(){function e(e,t){var i=this;i.models=e,t.options={language:"it",allowedContent:!0,entities:!1,toolbar:"Full",autoParagraph:!1,ignoreEmptyParagraph:!0,toolbar_Full:[{name:"document",items:["Source","-","Save"]},{name:"tools",items:["Maximize"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Table"]},{name:"colors",items:["TextColor"]}]}}e.$inject=["models","$scope"];var t={restrict:"E",templateUrl:"app/components/ckeditorColor/ckeditorColor.html",controller:e,controllerAs:"ckeditorColor",bindToController:!0,scope:{model:"="}};return t}angular.module("englishGalore").directive("ckeditorColor",e)}(),angular.module("englishGalore").factory("can",["models",function(e){var t={instanceCondition:function(t,i,a){var o=e.current_user&&e.current_user.can,n=o&&o.instanceConditions&&o.instanceConditions[t]&&o.instanceConditions[t][i];return!n||n(a)},canManage:function(i,a){var o=e.current_user&&e.current_user.can;return!!o&&!!o.manage&&o.manage.indexOf(i)>=0&&t.instanceCondition("manage",i,a)},canUpdate:function(i,a){var o=e.current_user&&e.current_user.can;return!!o&&!!o.update&&o.update.indexOf(i)>=0&&t.instanceCondition("update",i,a)},canShow:function(i,a){var o=e.current_user&&e.current_user.can;return!!o&&!!o.show&&o.show.indexOf(i)>=0&&t.instanceCondition("show",i,a)},canIndex:function(i,a){var o=e.current_user&&e.current_user.can;return!!o&&!!o.index&&o.index.indexOf(i)>=0&&t.instanceCondition("index",i,a)},customCan:function(i,a,o){var n=e.current_user&&e.current_user.can;return!!n&&!!n[i]&&n[i].indexOf(a)>=0&&t.instanceCondition(i,a,o)}},i=function(e,i,a){switch(e){case"manage":return t.canManage(i,a);case"update":return t.canManage(i,a)||t.canUpdate(i,a);case"show":return t.canManage(i,a)||t.canUpdate(i,a)||t.canShow(i,a);case"index":return t.canShow(i,a)||t.canIndex(i,a);default:return t.customCan(e,i,a)}};return i}]),function(){"use strict";function e(e,t,i){function a(a,o,n){var r,s,l,c,d;a.models=i;var u=function(){var t=e(l,c,a.instance);d&&(t=!t),t&&!s?(o.removeClass("can-hide"),s=!0):!t&&s&&(o.addClass("can-hide"),s=!1)},m=n.can.split(":");return 2!==m.length?void t.error('Syntax error in "can" directive: '+angular.toJson(n.can)):(d="!"===m[0].slice(0,1),d&&(m[0]=m[0].substr(1)),l=m[0],c=m[1],s=!0,u(),r=a.$watch("models.current_user.can",function(e,t){e&&t!==e&&u()}),r=a.$watch("instance",function(e,t){e&&t!==e&&u()}),void a.$on("$destroy",function(){r()}))}var o={restrict:"A",link:a,scope:{instance:"="}};return o}e.$inject=["can","$log","models"],angular.module("englishGalore").directive("can",e)}(),function(){"use strict";function e(){function e(e,t){t.addClass("panel-collapse collapse"),e.$watch("boxExpander",function(e,i){e!==i&&(e||t.collapse("hide"))})}e.$inject=["scope","el"];var t={restrict:"A",scope:{boxExpander:"="},link:e};return t}angular.module("englishGalore").directive("boxExpander",e)}(),angular.module("englishGalore").factory("users",["galoreApi","errorManager","resPipe","models",function(e,t,i,a){var o={me:function(){return e.getMe().then(i.parseResponse).then(i.updateCache).then(i.updateCurrent).then(i.memorizeCache)["catch"](t)},updateMe:function(a){return e.updateMe(a).then(function(e){return"success"===e.status?{user:e.data}:e}).then(i.parseResponse).then(i.injectDefaults).then(n.addInstanceConditions).then(i.updateCache).then(i.updateCurrent).then(i.memorizeCache)["catch"](t)},showUsers:function(){return e.showUsers().then(i.parseResponse).then(i.updateCache).then(i.memorizeCache)["catch"](t)},getUserPage:function(a){return e.getUserPage(a).then(i.parseResponse).then(i.log).then(i.cleanCache).then(i.updateCache).then(i.log).then(i.memorizeCache).then(i.log)["catch"](t)}},n={addInstanceConditions:function(e){return e.user&&(e.user.can.instanceConditions=a.getInstanceConditions()),e}};return o}]),angular.module("englishGalore").factory("units",["galoreApi","resPipe","utils","errorManager","$q",function(e,t,i,a,o){var n={show:function(i){return e.showUnit(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},create:function(i){return e.createUnit(i).then(t.parseResponse).then(t.injectDefaults).then(t.updateCache).then(t.memorizeCache)["catch"](a)},createExercise:function(i){return e.createExercise(i).then(t.parseResponse).then(t.injectDefaults).then(t.updateCache).then(t.memorizeCache)["catch"](a)},createExerciseImage:function(i,o){return e.createExerciseImage(i,o).then(t.parseResponse).then(t.injectDefaults).then(t.updateCache).then(t.memorizeCache)["catch"](a)},createFileAudio:function(i,o){return e.createFileAudio(i,o).then(t.parseResponse).then(t.injectDefaults).then(t.updateCache).then(t.memorizeCache)["catch"](a)},getSectionA:function(i){return e.getSectionA(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},getSectionB:function(i){return e.getSectionB(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},getSectionC:function(i){return e.getSectionC(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},getSectionD:function(i){return e.getSectionD(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},getSectionE:function(i){return e.getSectionE(i).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},getExercises:function(i,o){return e.getExercises(i,o).then(t.parseResponse).then(t.markReload).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},update:function(i,o){return e.updateUnit(i,o).then(t.parseResponse).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},updateSection:function(i,o,n){return e.updateSection(i,o,n).then(t.parseResponse).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},updateExercise:function(i,r){var s=[];return angular.isArray(r.exercise.exercise_image_text_items)&&angular.forEach(r.exercise.exercise_image_text_items,function(e){if(e.image&&e.image.file){var t=n.uploadFile(i,e.id,{filename:e.image.file.name,type:e.image.file.type}).then(function(t){return e.temp_url=t.image_url,e.file_name=t.image_filename,n.uploadFileS3(t.upload_url,e.image.file.type,e.image.file).then(function(){e.image_filename=e.file_name,e.image_url=e.temp_url,delete e.image,delete e.file_name,delete e.temp_url})});s.push(t)}}),o.all(s).then(function(){return e.updateExercise(i,r)}).then(t.parseResponse).then(t.humanize).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},publishUnit:function(t){return e.publishUnit(t)["catch"](a)},unpublishUnit:function(t){return e.unpublishUnit(t)["catch"](a)},uploadVideo:function(t,i,o){return e.uploadVideo(t,i,o)["catch"](a)},uploadFile:function(t,i,o){return e.uploadFile(t,i,o)["catch"](a)},uploadFileAudio:function(t,i,o){return e.uploadFileAudio(t,i,o)["catch"](a)},uploadImageTip:function(t,i,o,n){return e.uploadImageTip(t,i,o,n)["catch"](a)},uploadImageTipExercise:function(t,i){return e.uploadImageTipExercise(t,i)["catch"](a)},uploadFileS3:function(t,i,o){return e.uploadFileS3(t,i,o)["catch"](a)},destroyUnit:function(i){return e.destroyUnit(i).then(t.parseResponse).then(t.markDestroyed).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},destroyExercise:function(i){return e.destroyExercise(i).then(t.parseResponse).then(t.markDestroyed).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)},deleteFileAudio:function(i,o){return e.deleteFileAudio(i,o).then(t.parseResponse).then(t.markDestroyed).then(t.updateCache).then(t.updateCurrent).then(t.memorizeCache)["catch"](a)}};return n}]),angular.module("englishGalore").factory("models",["longTermMemory",function(e){var t={reset:function(){t.levels=e.remember("levels")||[],t.current_unit=e.remember("current_unit")||[],t.users=e.remember("users")||[],t.user=e.remember("user")||[],t.faq_categories=e.remember("faq_categories")||[],t.faqs=e.remember("faqs")||[],t.current_user=e.remember("current_user")||void 0}};return t.reset(),t}]),angular.module("englishGalore").factory("levels",["galoreApi","resPipe","utils","errorManager",function(e,t,i,a){var o={index:function(){return e.indexLevels().then(t.parseResponse).then(t.injectDefaults).then(t.updateCache).then(t.memorizeCache)["catch"](a)}};return o}]),angular.module("englishGalore").factory("faq",["galoreApi","errorManager","resPipe",function(e,t,i){var a={saveFaqCategory:function(a){return e.saveFaqCategory(a).then(i.parseResponse).then(i.injectDefaults).then(i.updateCache).then(i.memorizeCache)["catch"](t)},saveFaq:function(a){return e.saveFaq(a).then(i.parseResponse).then(i.injectDefaults).then(i.updateCache).then(i.memorizeCache)["catch"](t)},showFaqCategories:function(){return e.showFaqCategories().then(i.parseResponse).then(i.updateCache).then(i.memorizeCache)["catch"](t)},showFaq:function(){return e.showFaq().then(i.parseResponse).then(i.updateCache).then(i.memorizeCache)["catch"](t)}};return a}]),function(){"use strict";function e(e,t,i,a,o){t.uiState=i;var n=t.$on("$stateChangeSuccess",function(e,t){var o=t.params||{};i.bodyClasses=o.bodyClasses||a});t.$on("$destroy",function(){n()}),o.oblivion()}e.$inject=["$log","$rootScope","uiState","defaultBodyClasses","longTermMemory"],angular.module("englishGalore").run(e)}(),function(){"use strict";function e(e,t){e.state("main",{"abstract":!0,templateUrl:"app/pages/main/main.html"}).state("main.admin",{templateUrl:"app/pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{currentUser:["$auth","$q","users",function(e,t,i){return e.validateUser().then(function(e){return e.signedIn!==!0?t.reject():void 0}).then(i.me)["catch"](function(){return null})}],levelsData:["levels",function(e){return e.index()}]},onEnter:["$timeout","$state","levelsData","currentUser",function(e,t,i,a){a||e(function(){t.go("main.login")})}]}).state("main.logout",{url:"/logout",onEnter:["$q","errorManager","galoreApi","$state","toastr","models","longTermMemory",function(e,t,i,a,o,n,r){i.logout()["finally"](function(){delete n.current_user,n.user=[],r.forget("user"),r.forget("current_user"),a.go("main.login")})}]}).state("main.login",{url:"/login",templateUrl:"app/pages/login/login.html",controller:"LoginController",controllerAs:"vm",params:{bodyClasses:"hold-transition login-page"}}).state("main.admin.unit",{url:"/units/:id",templateUrl:"app/pages/unit/unit.html",controller:"UnitController",controllerAs:"vm"}).state("main.admin.profile",{url:"/profile",templateUrl:"app/pages/profile/profile.html",controller:"ProfileController",controllerAs:"vm"}).state("main.admin.dashboard",{url:"/",templateUrl:"app/pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).state("main.admin.createUnit",{url:"/create-unit",templateUrl:"app/pages/createUnit/createUnit.html",controller:"CreateUnitController",controllerAs:"vm"}).state("main.admin.user",{url:"/user",templateUrl:"app/pages/user/user.html",controller:"UserController",controllerAs:"vm"}).state("main.admin.faq",{url:"/faq",templateUrl:"app/pages/faq/faq.html",controller:"FaqController",controllerAs:"vm"}).state("main.admin.category",{url:"/faq/category",templateUrl:"app/pages/faq/category/category.html",controller:"CategoryController",controllerAs:"vm"}).state("main.admin.glossary",{url:"/glossary",templateUrl:"app/pages/glossary/glossary.html",controller:"GlossaryController",controllerAs:"vm"}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("englishGalore").config(e)}(),function(){"use strict";angular.module("englishGalore").constant("apiUrl","http://eg-api.tandu.it").constant("defaultBodyClasses","skin-purple-light sidebar-mini").constant("unitApiUrl","/v1/units").constant("showLevelsApiUrl","/v1/levels").constant("sectionApiUrl","/v1/unit_sections_").constant("exercisesApiUrl","/v1/exercises").constant("userApiUrl","/v1/users").constant("faqCategoriesApiUrl","/v1/faq_categories").constant("faqApiUrl","/v1/faqs")}(),function(){"use strict";function e(e,t,i,a,o,n,r){e.debugEnabled(!0),i.classNameFilter(/animate/),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!1,t.progressBar=!1,a.html5Mode(!0),a.hashPrefix("!"),n.configure({apiUrl:r,tokenValidationPath:"/v1/auth/validate_token",signOutUrl:"/v1/auth/logout",emailRegistrationPath:"/v1/auth/register",accountDeletePath:"/v1/auth/delete_account",passwordResetPath:"/v1/auth/password",passwordUpdatePath:"/v1/auth/password",passwordResetSuccessUrl:window.location.origin,emailSignInPath:"/v1/auth/login"})}e.$inject=["$logProvider","toastrConfig","$animateProvider","$locationProvider","$provide","$authProvider","apiUrl"],angular.module("englishGalore").config(e)}(),angular.module("englishGalore").run(["$templateCache",function(e){e.put("app/components/ckeditorColor/ckeditorColor.html","<div ckeditor=options ng-model=ckeditorColor.model ready=onReady()></div>"),e.put("app/components/exercise/exercise.html",'<div class=exercise><form name=formExercise ng-submit=exercise.submit() ng-model=exercise.form><div class=row><div class=col-sm-6><div class=from-group><label>Numero Esercizio</label><select ng-init="exercise.form.exercise_number = exercise.model.exercise_ids.length + 1" ng-model=exercise.form.exercise_number class=form-control ng-options="n for n in [] | range:1:6" required></select></div></div><div class=col-sm-6><div class=form-group><label>Tipologia Esercizio</label><select ng-init="exercise.form.exercise_type = exercise.data.selectedOption" ng-model=exercise.form.exercise_type class=form-control ng-options="option.name for option in exercise.data.availableOptions track by option.id" required></select></div></div></div><div class=row><div class=col-sm-6><div class=form-group ng-class=""><label>Titolo Esercizio</label><input ng-model=exercise.form.title type=text class=form-control placeholder="Inserisci il titolo dell\'esercizio" required></div></div><div class=col-sm-6><div class=form-group ng-class=""><label>Sottotitolo Esercizio</label><input ng-model=exercise.form.subtitle type=text class=form-control placeholder="Inserisci il sottotitolo dell\'esercizio" required></div></div></div><div class=row><div class=col-sm-6><div class=form-group><label for="">Tip Esercizio</label><ckeditor-color model=exercise.form.exercise_tips></ckeditor-color><div class=separator></div><a ngf-select=exercise.uploadImageTipFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=exercise.form.image_tip><label><i class="fa fa-upload"></i> Carica Immagine del Tip</label></a><div ng-if=exercise.form.image_tip.name class=url-video-box><span>Immagine: </span>{{exercise.form.image_tip.name}}<br></div></div></div></div><div class=row><div class=col-sm-12><input type=submit class="btn btn-success pull-right" value="Crea Esercizio"></div></div></form><div ng-show=exercise.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div>'),e.put("app/components/exerciseImageText/exerciseImageText.html",'<div class=separator></div><div class=col-sm-12><p><strong>Connetti immagine/frase</strong></p></div><div class=col-sm-12><table class="table table-responsive"><tbody><tr><th>Ordine</th><th>Immagine</th><th>Frase</th><th></th></tr><tr><td width=80px><div class=form-group><input ng-model=exerciseImageText.exercise_image_text_item.item_number name=item_number type=number class=form-control></div></td><td ng-init="exerciseImageText.exercise_image_text_item.image = {}"><a ngf-select=exerciseImageText.uploadImageFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=exerciseImageText.exercise_image_text_item.image><label><i class="fa fa-upload"></i> Upload image</label></a><br><span ng-if=exerciseImageText.exercise_image_text_item.image.file.name>Immagine: {{exerciseImageText.exercise_image_text_item.image.file.name}}</span></td><td><div class=form-group><input ng-model=exerciseImageText.exercise_image_text_item.text_en name=text_en type=text class=form-control placeholder="Inserisci la frase"></div></td><td width=93px><div class=pull-right><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse ng-click=exerciseImageText.addRow()><i class="fa fa-plus" aria-hidden=true></i></a></div></td></tr><tr ng-repeat-start="row in exerciseImageText.model | orderBy:\'item_number\'" ng-if="row._destroy == false || !row._destroy"><td>{{row.item_number}}</td><td><a href={{row.image_url}} target=_blank ng-if="row.image_url && !row.image.file.name">{{row.image_filename}} </a><span ng-if=row.image.file.name>{{row.image.file.name}}</span></td><td>{{row.text_en}}</td><td><div class="pull-right opacity-transition"><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse data-target=#open-row-{{exerciseImageText.idex}}-{{$index}}><i class="fa fa-pencil"></i> </a><a role=button class="btn btn-sm btn-danger" ng-click="row._destroy=true"><i class="fa fa-trash"></i></a></div></td></tr><tr ng-repeat-end class="collapse background-gray" id=open-row-{{exerciseImageText.idex}}-{{$index}}><td colspan=8><div class=col-md-2><div class=form-group><label>Modifica Ordine</label><input ng-model=row.item_number name=item_number type=number class=form-control></div></div><div class=col-md-4><label>Modifica Immagine</label><br><span><a ngf-select="exerciseImageText.changeImageFile($file, row)" ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=row.image><label><i class="fa fa-upload"></i> Upload image</label></a></span><br><a href={{row.image_url}} target=_blank ng-if="row.image_url && !row.image.file.name">{{row.image_filename}} </a><span ng-if=row.image.file.name>{{row.image.file.name}}</span></div><div class=col-md-6><div class=form-group><label>Modifica Frase</label><input ng-model=row.text_en name=text_en type=text class=form-control placeholder="Inserisci la frase"></div></div></td></tr></tbody></table></div>'),e.put("app/components/exerciseTextText/exerciseTextText.html",'<div class=separator></div><div class=col-sm-12><p><strong>Connetti frase/frase</strong></p></div><div class=col-sm-12><table class="table table-responsive"><tbody><tr><th>Ordine</th><th>Frase in Italiano</th><th>Traduzione in Inglese</th><th></th></tr><tr><td width=80px><div class=form-group><input ng-model=exerciseTextText.exercise_text_text_item.item_number name=item_number type=number class=form-control></div></td><td><div class=form-group><input ng-model=exerciseTextText.exercise_text_text_item.text_it name=text_it type=text class=form-control placeholder="Inserisci la frase in italiano"></div></td><td><div class=form-group><input ng-model=exerciseTextText.exercise_text_text_item.text_en name=text_en type=text class=form-control placeholder="Inserisci la traduzione in inglese"></div></td><td class=text-center width=93px><a role=button class="btn btn-sm btn-default accordion-toggle pull-right" data-toggle=collapse ng-click=exerciseTextText.addRow()><i class="fa fa-plus" aria-hidden=true></i></a></td></tr><tr ng-repeat-start="row in exerciseTextText.model | orderBy:\'item_number\'" ng-if="row._destroy == false || !row._destroy"><td>{{row.item_number}}</td><td>{{row.text_it}}</td><td>{{row.text_en}}</td><td><div class="pull-right opacity-transition"><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse data-target=#open-text-row-{{exerciseTextText.idEx}}-{{$index}}><i class="fa fa-pencil"></i> </a><a role=button class="btn btn-sm btn-danger" ng-click="row._destroy=true"><i class="fa fa-trash"></i></a></div></td></tr><tr ng-repeat-end class="collapse background-gray" id=open-text-row-{{exerciseTextText.idEx}}-{{$index}}><td colspan=8><div class=col-md-2><div class=form-group><label>Modifica Ordine</label><input ng-model=row.item_number name=item_number type=number class=form-control></div></div><div class=col-md-4><label>Modifica Frase in Italiano</label><input ng-model=row.text_it name=text_it type=text class=form-control placeholder="Inserisci la frase in italiano"></div><div class=col-md-6><div class=form-group><label>Modifica Frase in Inglese</label><input ng-model=row.text_en name=text_en type=text class=form-control placeholder="Inserisci la traduzione in inglese"></div></div></td></tr></tbody></table></div>'),
e.put("app/components/galoreFooter/galoreFooter.html",'<footer class=main-footer><div class="pull-right hidden-xs"><b>Version</b> 1.0.0</div><strong>Copyright © 2016-2017 <a href=#>English Galore</a>.</strong> All rights reserved.</footer>'),e.put("app/components/galoreHeader/galoreHeader.html",'<header class="main-header galore-header"><a ui-sref=main.admin.dashboard class=logo><!-- mini logo for sidebar mini 50x50 pixels --> <span class=logo-mini><img src=/assets/images/logo-sm.png></span><!-- logo for regular state and mobile devices --> <span class=logo-lg><img src=/assets/images/logo.png></span></a><nav class="navbar navbar-static-top" role=navigation><!-- Sidebar toggle button--> <a href=# class=sidebar-toggle data-toggle=offcanvas role=button ng-click="isCollapse = !isCollapse; header.changeLevelsIcon(isCollapse)"><span class=sr-only>Toggle navigation</span> </a><!-- Navbar Right Menu --><div class=navbar-custom-menu><ul class="nav navbar-nav"><li class="dropdown user user-menu"><a href=# class=dropdown-toggle data-toggle=dropdown aria-expanded=false><span class=hidden-xs>{{ header.models.current_user.firstName }} {{ header.models.current_user.lastName }}</span></a><ul class=dropdown-menu><!-- User image --><li class=user-header><img src="{{ header.models.current_user.image || \'/assets/images/logo-sm.png\' }}" ng-class="{\'default-user-img\': !header.models.current_user.image}" class=img-circle alt="User Image"><p>{{ header.models.current_user.email }}</p></li><!-- Menu Footer--><li class=user-footer><div class=pull-left><a ui-sref=main.admin.profile class="btn btn-default btn-flat">Profilo</a></div><div class=pull-right><a ui-sref=main.logout class="btn btn-default btn-flat">Esci</a></div></li></ul></li></ul></div></nav></header>'),e.put("app/components/galoreUploader/galoreUploader.html",'<div class=galore-uploader ng-show="uploader.total.processing > 0"><div class=summary ng-click="expanded = !expanded"><i ng-class="{\'fa-chevron-down\': expanded, \'fa-chevron-up\': !expanded}" class=fa></i> Processing {{ uploader.total.processing }} files: <span ng-show=uploader.total.queued>{{ uploader.total.queued }} queued </span><span ng-show=uploader.total.uploading>{{ uploader.total.uploading }} uploading </span><span ng-show=uploader.total.canceled>{{ uploader.total.canceled }} canceled </span><span ng-show=uploader.total.error>{{ uploader.total.error }} errors </span><span ng-show=uploader.total.success>{{ uploader.total.success }} done</span><div class=progress ng-show="!expanded && uploader.total.size > 0"><div class="progress-bar progress-bar-striped progress-bar-primary active" role=progressbar aria-valuenow="{{ uploader.total.percentage }}" aria-valuemin=0 aria-valuemax=100 style="width: {{ uploader.total.percentage }}%"></div></div></div><div class=details ng-show=expanded><div ng-repeat="file in uploader.files"><div class=file-details>{{ file.name }} <i class="status-icon {{ file.status }}"></i><div class=progress ng-show="file.status === \'uploading\'"><div class="progress-bar progress-bar-striped progress-bar-primary active" role=progressbar aria-valuenow="{{ file.percentage }}" aria-valuemin=0 aria-valuemax=100 style="width: {{ file.percentage }}%"></div></div></div></div></div></div>'),e.put("app/components/galoreSidebar/galoreSidebar.html",'<div class=main-sidebar><!-- Inner sidebar --><div class=sidebar><!-- Sidebar Menu --><ul class=sidebar-menu><!-- SECTION Main Menu --><!-- Home --><li class=treeview ng-class=sidebar.checkDashboard()><a ui-sref=main.admin.dashboard><i class="fa fa-dashboard" aria-hidden=true></i> <span>Dashboard</span></a></li><!-- !Home --><!-- SECTION Livelli --><li ng-repeat="level in sidebar.models.levels | orderBy:\'title\'" ng-class=sidebar.checkCurrentLevel(level)><a href=#><i ng-show="!sidebar.models.sidebar_mini || sidebar.models.sidebar_mini == false" class="fa fa-circle"></i><div ng-show="sidebar.models.sidebar_mini == true">{{level.title}}</div><span>Livello {{level.title}}</span> <span class=pull-right-container><i class="fa fa-angle-left"></i></span></a><ul class=treeview-menu><!-- Visualizza Unità --><li ng-repeat="unit in level.units | orderBy:[\'unit_code\',\'sub_unit_code\',\'title\']" ng-class=sidebar.checkCurrentUnit(unit)><a id={{unit.id}} ui-sref="main.admin.unit({id: unit.id})" ng-class="{\'title-pubblicata\': {{unit.published}} == true, \'\': {{unit.published}} == false}"><i ng-class="{\'fa fa-circle-o title-pubblicata\': {{unit.published}} == true, \'fa fa-circle-o\':{{unit.published}} == false}"></i> Unità {{unit.unit_code}}.{{unit.sub_unit_code}} - {{ unit.title }}</a></li><!-- Aggiungi Unità --><li ng-class="{active: sidebar.state.current.name === \'main.admin.createUnit\'}"><a ng-click=sidebar.addUnit(level.id)><i class="fa fa-plus"></i> Aggiungi unità</a></li></ul></li><!-- !SECTION Livelli --><!-- SECTION Support --><!-- Users --><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.user\'}"><a ui-sref=main.admin.user><i class="fa fa-users" aria-hidden=true></i> <span>Utenti</span></a></li><!-- !Users --><!-- Glossario --><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.glossary\'}"><a ui-sref=main.admin.glossary><i class="fa fa-book" aria-hidden=true></i> <span>Glossario</span></a></li><!-- !Glossario --><!-- Faq --><li class=treeview ng-class="{active: sidebar.state.current.name === \'main.admin.faq\'}"><a href=#><i class="fa fa-comments-o" aria-hidden=true></i> <span>Faq</span> <span class=pull-right-container><i class="fa fa-angle-left"></i></span></a><ul class=treeview-menu><li><a ui-sref=main.admin.category role=button><i class="fa fa-circle-o"></i> Categorie</a></li><li><a ui-sref=main.admin.faq><i class="fa fa-circle-o"></i> Tutte le Faq</a></li></ul></li><!-- !Faq --><!-- !SECTION Support --></ul><!-- /.sidebar-menu --></div><!-- /.sidebar --></div><!-- /.main-sidebar -->'),e.put("app/components/sectionA/sectionA.html",'<div class=row><div class=col-xs-12><div class="panel box panel-box-red"><div class="box-header with-border"><a data-toggle=collapse data-target=#intro aria-expanded=false class="collapsed title-active" role=button ng-click="isCollapsed = !isCollapsed"><h4 class=box-title>A) {{sectionA.form.section_label}} <i ng-class="{\'fa fa-angle-down\': !isCollapsed, \'fa fa-angle-up\': isCollapsed}" aria-hidden=true></i></h4></a></div><div id=intro box-expander=sectionA.form><div class=box-body><div class=row><div class=col-xs-12><form id=formIntroVideo name=formIntroVideo ng-submit=sectionA.submit() ng-model=sectionA.form novalidate><div class=nav-tabs-custom><ul class="nav nav-tabs"><li class=active><a data-target=#sec_a_tab_video data-toggle=tab aria-expanded=false role=button>Video</a></li></ul><div class=tab-content><div class="tab-pane tab-big active" id=sec_a_tab_video><tab-video model=sectionA.form></tab-video></div><!-- /.tab-pane --></div><!-- /.tab-content --><div class=pull-right><input type=submit class="btn btn-success" value="Salva Sezione"></div></div><!-- nav-tabs-custom --><div ng-show=sectionA.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></form></div></div></div></div></div></div></div>'),e.put("app/components/sectionB/infoPopoverTemplate.html","<div class=info-popover><p class=info-popover-title>Regole di inserimento</p><ul><li>I <strong>nomi dei personaggi</strong> devono essere contenuti tra i caratteri <strong>‘@’</strong><br><span class=popover-example>es. @Pietro@</span></li><li>Le <strong>traduzioni</strong> devono essere tra parentesi quadre <strong>[...]</strong><br><span class=popover-example>es.[Chi è alla porta?]</span></li><li>Bisogna caricare <strong>un file audio per ogni pezzo di dialogo.</strong><br>Il nome del file audio associato alla porzione di dialogo <strong>va specificato dopo la fine del dialogo</strong> e devono essere contenuti tra i caratteri <strong>‘/’</strong> <span class=popover-example>es. /1.1-r1.mp3/</span></li><li>Usare il carattere <strong>‘#’</strong> per le <strong>frasi che non sono associate ad un personaggio</strong></li></ul></div>"),e.put("app/components/sectionB/sectionB.html",'<div class=row><div class=col-xs-12><div class="panel box panel-box-red"><div class="box-header with-border"><a ng-class="{\'title-active\': sectionB.form.active}" data-toggle=collapse role=button data-target=#sectionB aria-expanded=false class=collapsed ng-click="isCollapsed = !isCollapsed"><h4 class=box-title>B) {{sectionB.form.section_label}} <i ng-class="{\'fa fa-angle-down\': !isCollapsed, \'fa fa-angle-up\': isCollapsed}" aria-hidden=true></i></h4></a><div class=pull-right><label class=switch ng-click=sectionB.changeStatusSection();$event.stopPropagation();><input type=checkbox ng-model=sectionB.form.active><div class="slider round"></div></label></div></div><div id=sectionB box-expander=sectionB.form.active><div class=box-body><div class=row><div class=col-xs-12><form id=formIntroVideo name=formIntroVideo ng-submit=sectionB.submit() ng-model=sectionB.form novalidate><div class=nav-tabs-custom><ul class="nav nav-tabs"><li class=active><a role=button data-target=#sec_b_tab_info data-toggle=tab aria-expanded=true>Info</a></li><li><a role=button data-target=#sec_b_tab_dialogo data-toggle=tab aria-expanded=false>Dialogo</a></li></ul><div class=tab-content><div class="tab-pane active" id=sec_b_tab_info><tab-info-section model=sectionB.form></tab-info-section></div><div class=clear></div><!-- /.tab-pane --><div class=tab-pane id=sec_b_tab_dialogo><tab-dialogue model=sectionB.form></tab-dialogue><div class=separator></div></div><div class=clear></div><!-- /.tab-pane --></div><!-- /.tab-content --><div class=pull-right><input type=submit class="btn btn-success" value="Salva Sezione"></div></div><!-- nav-tabs-custom --></form><div ng-show=sectionB.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></div></div></div></div>'),e.put("app/components/sectionC/sectionC.html",'<div class="row sectionC"><div class=col-xs-12><div class="panel box panel-box-red"><div class="box-header with-border"><a ng-class="{\'title-active\': sectionC.form.active}" data-toggle=collapse role=button data-target=#sectionC aria-expanded=false class=collapsed ng-click="isCollapsed = !isCollapsed; sectionC.getExercises(isCollapsed)"><h4 class=box-title>C) {{sectionC.form.section_label}} <i ng-class="{\'fa fa-angle-down\': !isCollapsed, \'fa fa-angle-up\': isCollapsed}" aria-hidden=true></i></h4></a><div class=pull-right><label class=switch ng-click=$event.stopPropagation();><input type=checkbox ng-model=sectionC.form.active><div class="slider round"></div></label></div></div><div id=sectionC box-expander=sectionC.form.active><div class=box-body><div class=row><div class=col-xs-12><div class=nav-tabs-custom><ul class="nav nav-tabs"><li class=active role=button><a data-target=#info-tab-c id=tab-c role=tab data-toggle=tab aria-expanded=false role=button>Info</a></li><li class=dropdown role=button><a data-target=# class=dropdown-toggle id=exercise-drop data-toggle=dropdown aria-controls=exercise-drop-contents aria-expanded=true role=button>Esercizi <span class="fa fa-angle-down"></span></a><ul class=dropdown-menu aria-labelledby=exercise-drop id=exercise-drop-contents><li role=button><a data-target=#addExercise role=tab id=addExercise-tab data-toggle=tab aria-controls=addExercise aria-expanded=true><span class="fa fa-plus"></span> Aggiungi esercizio</a></li><li ng-repeat="row in sectionC.models.current_unit_sections_c_exercises.exercises | orderBy:\'exercise_number\'" id=row_{{row.id}} ng-if="row._destroyed == false || !row._destroyed" role=button><a data-target=#ex-{{row.id}} id=ex-tab-{{row.id}} role=tab data-toggle=tab aria-controls=ex-{{row.id}}>{{row.title}}</a></li></ul></li></ul><div class=tab-content><div class="tab-pane active" role=tabpanel id=info-tab-c><form id=formIntroVideo name=formIntroVideo ng-submit=sectionC.submit() novalidate><div class=row><tab-info-section model=sectionC.form></tab-info-section></div><input type=submit class="btn btn-success btn-save-section" value="Salva Sezione"></form></div><div class="tab-pane fade" role=tabpanel id=addExercise aria-labelledby=addExercise-tab><exercise model=sectionC.form section=UnitSectionC currentsection=sectionC.models.current_unit_sections_c_exercises.exercises tabinfo="#sectionC #tab-c"></exercise></div><div class="tab-pane fade" role=tabpanel id=ex-{{rowC.id}} ng-repeat="rowC in sectionC.models.current_unit_sections_c_exercises.exercises | orderBy:\'exercise_number\'"><exercise-show model=rowC section=UnitSectionC currentsection=sectionC.models.current_unit_sections_c_exercises.exercises section=UnitSectionC currenttab=#ex-tab-{{rowC.id}} tabinfo=#tab-c></exercise-show></div></div><div ng-show=sectionC.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div><!-- /.tab-content --></div><!-- nav-tabs-custom --></div></div></div></div></div></div></div>'),e.put("app/components/sectionD/sectionD.html",'<div class=row><div class=col-xs-12><div class="panel box panel-box-red"><div class="box-header with-border"><a ng-class="{\'title-active\': sectionD.form.active}" data-toggle=collapse role=button data-target=#sectionD aria-expanded=false class=collapsed ng-click="isCollapsed = !isCollapsed; sectionD.getExercises(isCollapsed);"><h4 class=box-title>D) {{sectionD.form.section_label}} <i ng-class="{\'fa fa-angle-down\': !isCollapsed, \'fa fa-angle-up\': isCollapsed}" aria-hidden=true></i></h4></a><div class=pull-right><label class=switch ng-click=$event.stopPropagation();><input type=checkbox ng-model=sectionD.form.active><div class="slider round"></div></label></div></div><div id=sectionD box-expander=sectionD.form.active><div class=box-body><div class=row><div class=col-xs-12><div class=nav-tabs-custom><div ng-model=sectionD.form novalidate><ul class="nav nav-tabs"><li class=active role=button><a data-target=#info-tab-d id=tab-d role=tab data-toggle=tab aria-expanded=false role=button>Info</a></li><li role=button><a data-target=#theory role=tab data-toggle=tab aria-expanded=false role=button>Teoria</a></li><li role=button><a data-target=#text role=tab data-toggle=tab aria-expanded=false role=button>Testo Approfondimento</a></li><li role=button><a data-target=#video role=tab data-toggle=tab aria-expanded=false role=button>Video Approfondimento</a></li><li class=dropdown role=button><a data-target=# class=dropdown-toggle id=exercise-drop-d data-toggle=dropdown aria-controls=exercise-drop-d-contents aria-expanded=true role=button>Esercizi <span class="fa fa-angle-down"></span></a><ul class=dropdown-menu aria-labelledby=exercise-drop-d id=exercise-drop-d-contents><li role=button><a data-target=#addExerciseD role=tab id=addExerciseD-tab data-toggle=tab aria-controls=addExerciseD aria-expanded=true><span class="fa fa-plus"></span> Aggiungi esercizio</a></li><li ng-repeat="row in sectionD.models.current_unit_sections_d_exercises.exercises | orderBy:\'exercise_number\'" id=row_{{row.id}} ng-if="row._destroyed == false || !row._destroyed" role=button><a data-target=#ex-{{row.id}} id=ex-tab-{{row.id}} role=tab data-toggle=tab aria-controls=ex-{row.id}}>{{row.title}}</a></li></ul></li></ul><div class=tab-content><div class="tab-pane active" role=tabpanel id=info-tab-d><tab-info-section model=sectionD.form></tab-info-section></div><div class=tab-pane role=tabpanel id=theory><tab-theory model=sectionD.form></tab-theory></div><div class=tab-pane role=tabpanel id=text><tab-theory-in-depth model=sectionD.form></tab-theory-in-depth></div><div class=tab-pane role=tabpanel id=video><tab-video model=sectionD.form></tab-video></div><div class="tab-pane fade" role=tabpanel id=addExerciseD aria-labelledby=addExerciseD-tab><exercise model=sectionD.form section=UnitSectionD currentsection=sectionD.models.current_unit_sections_d_exercises.exercises tabinfo=#tab-d></exercise></div><div class="tab-pane fade" role=tabpanel id=ex-{{rowD.id}} ng-repeat="rowD in sectionD.models.current_unit_sections_d_exercises.exercises | orderBy:\'exercise_number\'"><exercise-show model=rowD section=UnitSectionD currentsection=sectionD.models.current_unit_sections_d_exercises.exercises section=UnitSectionD currenttab=#ex-tab-{{rowD.id}} tabinfo=#tab-d></exercise-show></div></div></div><!-- /.tab-content --><div class=separator></div><div class=pull-right><div class=separator></div><input type=button class="btn btn-success" value="Salva Sezione" ng-click=sectionD.submit()></div><div ng-show=sectionD.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div><!-- nav-tabs-custom --></div></div></div></div></div></div></div>'),e.put("app/components/sectionE/sectionE.html",'<div class="row sectionE"><div class=col-xs-12><div class="panel box panel-box-red"><div class="box-header with-border"><a ng-class="{\'title-active\': sectionE.form.active}" data-toggle=collapse role=button data-target=#sectionE aria-expanded=false class=collapsed ng-click="isCollapsed = !isCollapsed; sectionE.getExercises(isCollapsed)"><h4 class=box-title>E) {{sectionE.form.section_label}} <i ng-class="{\'fa fa-angle-down\': !isCollapsed, \'fa fa-angle-up\': isCollapsed}" aria-hidden=true></i></h4></a><div class=pull-right><label class=switch ng-click=$event.stopPropagation();><input type=checkbox ng-model=sectionE.form.active><div class="slider round"></div></label></div></div><div id=sectionE box-expander=sectionE.form.active><div class=box-body><div class=row><div class=col-xs-12><div class=nav-tabs-custom><ul class="nav nav-tabs"><li class=active role=button><a data-target=#info-tab-e id=tab-e role=tab data-toggle=tab aria-expanded=false role=button>Info</a></li><li class=dropdown role=button><a data-target=# class=dropdown-toggle id=exercise-drop-e data-toggle=dropdown aria-controls=exercise-drop-e-contents aria-expanded=true role=button>Esercizi <span class="fa fa-angle-down"></span></a><ul class=dropdown-menu aria-labelledby=exercise-drop-e id=exercise-drop-e-contents><li role=button><a data-target=#addExerciseE role=tab id=addExerciseE-tab data-toggle=tab aria-controls=addExerciseE aria-expanded=true><span class="fa fa-plus"></span> Aggiungi esercizio</a></li><li ng-repeat="row in sectionE.models.current_unit_sections_e_exercises.exercises | orderBy:\'exercise_number\'" id=row_{{row.id}} ng-if="row._destroyed == false || !row._destroyed" role=button><a data-target=#ex-{{row.id}} id=ex-tab-{{row.id}} role=tab data-toggle=tab aria-controls=ex-{{row.id}}>{{row.title}}</a></li></ul></li></ul><div class=tab-content><div class="tab-pane active" role=tabpanel id=info-tab-e><form id=formIntroVideo name=formIntroVideo ng-submit=sectionE.submit() novalidate><div class=row><tab-info-section model=sectionE.form></tab-info-section></div><input type=submit class="btn btn-success btn-save-section" value="Salva Sezione"></form></div><div class="tab-pane fade" role=tabpanel id=addExerciseE aria-labelledby=addExerciseE-tab><exercise model=sectionE.form section=UnitSectionE currentsection=sectionE.models.current_unit_sections_e_exercises.exercises tabinfo="#sectionE #tab-e"></exercise></div><div class="tab-pane fade" role=tabpanel id=ex-{{rowE.id}} ng-repeat="rowE in sectionE.models.current_unit_sections_e_exercises.exercises | orderBy:\'exercise_number\'"><exercise-show model=rowE section=UnitSectionE currentsection=sectionE.models.current_unit_sections_e_exercises.exercises section=UnitSectionE currenttab=#ex-tab-{{rowE.id}} tabinfo=#tab-e></exercise-show></div><div ng-show=sectionE.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div><!-- /.tab-content --></div><!-- nav-tabs-custom --></div></div></div></div></div></div></div>'),e.put("app/components/sectionUnit/sectionUnit.html",'<div class="panel box panel-box-red"><div class="box-header with-border"><a data-toggle=collapse data-target=#sectionUnit aria-expanded=false class="collapsed title-active" role=button ng-click="isCollapsed = !isCollapsed"><h4 class=box-title>Info Unità <i ng-class="{\'fa fa-angle-up\': !isCollapsed, \'fa fa-angle-down\': isCollapsed}" aria-hidden=true></i></h4></a></div><div id=sectionUnit box-expander=sectionUnit.form class="panel-collapse collapse in"><div class=box-body><form id=formIntroVideo name=formIntroVideo ng-submit=sectionUnit.submit(sectionUnit.form.id) ng-model=sectionUnit.form novalidate><div class=row id=tab_intro><div class=col-sm-6><div class=form-group><label>Codice Unità</label><input name=unit_code ng-model=sectionUnit.form.unit_code type=number class=form-control placeholder="Inserisci il codice dell\'unità"><!-- <select\n                    name = "unit_code"\n                    ng-model="sectionUnit.form.unit_code"\n                    class="form-control"\n                    ng-options="n for n in [] | range:1:21"\n                  >\n                  </select> --></div></div><div class=col-sm-6><div class=form-group><label>Sotto Codice Unità</label><!-- <select\n                    name = "sub_unit_code"\n                    ng-model="sectionUnit.form.sub_unit_code"\n                    class="form-control"\n                    ng-options="n for n in [] | range:1:21"\n                  >\n                  </select> --> <input name=sub_unit_code ng-model=sectionUnit.form.sub_unit_code type=number class=form-control placeholder="Inserisci il sotto codice dell\'unità"></div></div><div class=col-sm-6><div class=form-group><label for="">Titolo Unità</label><input name=title ng-model=sectionUnit.form.title type=text class=form-control placeholder="Inserisci il titolo dell\'unità"></div></div></div><div class=row><div class=col-xs-12><input type=submit class="btn btn-default pull-right btn-blue" value="Salva Info Unità"> <input type=button ng-click=sectionUnit.destroy(sectionUnit.form.id) class="btn btn-success pull-right btn-red" value="Elimina Unità"></div></div><div ng-show=sectionUnit.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></form></div></div></div>'),e.put("app/components/tabDialogue/tabDialogue.html",'<div class=col-sm-12><a ngf-select=tabDialogue.uploadAudioFile($files) ngf-multiple=true ngf-allow-dir=false class=upload-video-label instance=tabDialogue.model.files_audio><label><i class="fa fa-upload"></i> Carica File Audio</label></a><div class=files-audio><ul class=list-inline><li ng-repeat="file in tabDialogue.model.files_audio | orderBy:\'file.name\'" ng-if=!file._destroy>{{file.name}} <span ng-click="tabDialogue.removeFile(file, $index)"><i class="fa fa-trash"></i></span></li></ul></div><div class=files-audio ng-if="tabDialogue.model.audio_items.length > 0">File Audio:<ul class=list-inline ng-init="tabDialogue.model.audio_items_temp = tabDialogue.model.audio_items"><li ng-repeat="file in tabDialogue.model.audio_items_temp | orderBy:\'file.name\'" ng-if=!file._destroy><a href={{file.audio_url}} target=_blank>{{file.audio_filename}}</a> <span ng-click="tabDialogue.removeFile(file, $index)"><i class="fa fa-trash"></i></span></li></ul></div></div><div class=separator></div><div class=col-sm-12><div class=form-group ng-class=""><label for="">Testo dialogo</label><button uib-popover-template=dynamicPopover.templateUrl type=button class="btn btn-default pull-right btn-popover-info" popover-placement=right><i class="fa fa-info-circle" aria-hidden=true></i></button><textarea rows=4 cols=50 ng-model=tabDialogue.model.dialogue name=dialogue type=text class="form-control textarea-dialogue" placeholder="Inserisci il testo del dialogo">\n    </textarea></div></div><div class=separator></div><div class=col-sm-12><label for="">Tip Dialogo</label><ckeditor-color model=tabDialogue.model.dialogue_tips></ckeditor-color><div class=separator></div><a ngf-select=tabDialogue.uploadImageTipFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=tabDialogue.model.image_tip><label><i class="fa fa-upload"></i> Carica Immagine del Tip</label></a><div ng-if="tabDialogue.model.dialogue_tips_image_url && !tabDialogue.model.image_tip.name" class=url-video-box><span>Immagine: </span><a href={{tabDialogue.model.dialogue_tips_image_url}} target=_blank>{{tabDialogue.model.dialogue_tips_image_filename}}</a><br></div><div ng-if=tabDialogue.model.image_tip.name class=url-video-box><span>Immagine: </span>{{tabDialogue.model.image_tip.name}}<br></div></div>'),e.put("app/components/tabInfoSection/tabInfoSection.html",'<div class=col-sm-6><div class="form-group has-feedback"><label for="">Titolo Sessione</label><input ng-model=model.title name="" type=text class=form-control placeholder="Inserisci il titolo della sessione"></div></div>'),e.put("app/components/tabTheory/tabTheory.html",'<div class=col-sm-6><div class="form-group has-feedback" ng-class=""><label>Titolo</label><input ng-model=tabTheory.model.theory_title name="" type=text class=form-control placeholder="Inserisci il titolo" required><span ng-show="formIntroVideo[\'name\' + ($index+1)].$dirty" ng-messages="formIntroVideo[\'name\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class=col-sm-6><div class="form-group has-feedback" ng-class="{\'has-error\': formIntroVideo[\'name\' + ($index+1)].$dirty && formIntroVideo[\'name\' + ($index+1)].$invalid}"><label for=formIntroVideo-subUnitCod{{$index+1}}>Sottotitolo</label><input ng-model=tabTheory.model.theory_subtitle name="" type=text class=form-control placeholder="Inserisci il sottotitolo" required> <span ng-show="formIntroVideo[\'name\' + ($index+1)].$dirty" ng-messages="formIntroVideo[\'name\' + ($index+1)].$error" class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div></div><div class=separator></div><div class=col-sm-6><div class="form-group has-feedback" ng-class=""><label>Testo</label><ckeditor-color model=tabTheory.model.theory_text></ckeditor-color></div></div><div class=col-sm-6><div class="form-group has-feedback" ng-class=""><label>Tip Teoria</label><ckeditor-color model=tabTheory.model.theory_text_tips></ckeditor-color><div class=separator></div><a ngf-select=tabTheory.uploadImageTipFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=tabTheory.model.image_tip_theory><label><i class="fa fa-upload"></i> Carica Immagine del Tip</label></a><div ng-if="tabTheory.model.theory_text_tips_image_url && !tabTheory.model.image_tip_theory.name" class=url-video-box><span>Immagine: </span><a href={{tabTheory.model.theory_text_tips_image_url}} target=_blank>{{tabTheory.model.theory_text_tips_image_filename}}</a><br></div><div ng-if=tabTheory.model.image_tip_theory.name class=url-video-box><span>Immagine: </span>{{tabTheory.model.image_tip_theory.name}}<br></div></div></div>'),e.put("app/components/tabTheoryInDepth/tabTheoryInDepth.html",'<div class=col-sm-6><div class="form-group has-feedback" ng-class=""><label>Titolo</label><input ng-model=model.theory_in_depth_title name="" type=text class=form-control placeholder="Inserisci il titolo"></div></div><div class=col-sm-6><div class=form-group><label>Sottotitolo</label><input ng-model=model.theory_in_depth_subtitle name="" type=text class=form-control placeholder="Inserisci il sottotitolo"></div></div><div class=col-sm-6><div class="form-group has-feedback" ng-class=""><label>Testo</label><ckeditor-color model=model.theory_in_depth_text></ckeditor-color></div></div>'),e.put("app/components/tabVideo/tabVideo.html",'<div class=col-sm-6><div class=form-group><label for="">Titolo Video</label><input ng-model=tabVideo.model.video_title name=video_title type=text class=form-control placeholder="Inserisci il titolo del video"></div></div><div class=col-sm-6><div class=form-group><label>Sottotitolo Video</label><input ng-model=tabVideo.model.video_subtitle name=video_subtitle type=text class=form-control placeholder="Inserisci il sottotitolo del video"></div></div><div class=col-sm-6><a ngf-select=tabVideo.uploadVideoFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=tabVideo.model.video><label><i class="fa fa-upload"></i> Carica video</label></a><div ng-if="tabVideo.model.video_url && !tabVideo.model.video.name" class=url-video-box><span>Video: </span><a href={{tabVideo.model.video_url}} target=_blank>{{tabVideo.model.video_filename}}</a><br></div><div ng-if=tabVideo.model.video.name class=url-video-box><span>Video: </span>{{tabVideo.model.video.name}}</div></div><div class=col-sm-6><label for="">Tip Video</label><br><ckeditor-color model=tabVideo.model.video_tips></ckeditor-color><div class=separator></div><a ngf-select=tabVideo.uploadImageTipFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=tabVideo.model.image_tip><label><i class="fa fa-upload"></i> Carica Immagine del Tip</label></a><div ng-if="tabVideo.model.video_tips_image_url && !tabVideo.model.image_tip.name" class=url-video-box><span>Immagine: </span><a href={{tabVideo.model.video_tips_image_url}} target=_blank>{{tabVideo.model.video_tips_image_filename}}</a><br></div><div ng-if=tabVideo.model.image_tip.name class=url-video-box><span>Immagine: </span>{{tabVideo.model.image_tip.name}}<br></div></div>'),e.put("app/components/toggleSwitch/toggleSwitch.html",'<div class=toggle-switch><span class=title-pubblica>Pubblica:</span><div class=switch><input type=radio class=switch-input name=view value=true id=yes ng-checked=toggleSwitch.model.published ng-model=toggleSwitch.switch ng-init="toggleSwitch.switch = toggleSwitch.model.published" ng-click="toggleSwitch.publish(); $event.preventDefault();"><label for=yes class="switch-label switch-label-off">Si</label><input type=radio class=switch-input name=view value=false id=no ng-checked=!toggleSwitch.model.published ng-model=toggleSwitch.switch ng-init="toggleSwitch.switch = toggleSwitch.model.published" ng-click="toggleSwitch.unpublish(); $event.preventDefault();"><label for=no class="switch-label switch-label-on">No</label><span class=switch-selection></span></div></div>'),e.put("app/components/uploadFile/uploadFile.html","<input name=file type=file ng-model=model.video_url class=input-file>"),e.put("app/pages/createUnit/createUnit.html","<section class=create-unit><section class=content-header><h1>Aggiungi unità</h1></section><section class=content><section-a></section-a><section-b></section-b><section-c></section-c><section-d></section-d><section-e></section-e></section></section>"),e.put("app/pages/admin/admin.html","<div class=wrapper><galore-header></galore-header><galore-sidebar></galore-sidebar><galore-uploader></galore-uploader><div class=content-wrapper><div ui-view></div></div><galore-footer></galore-footer></div>"),e.put("app/pages/dashboard/dashboard.html",'<div class="content events"><div class=row><div class=col-xs-12><div class="box box-default"><div class=box-header><div class=box-title>Dashboard</div></div></div><!-- /.box --></div></div></div>'),e.put("app/pages/faq/faq.html",'<section class=unit><section class=content-header><h1>Faq</h1></section><section class=content><div class="box box-default"><div class=box-header><a data-toggle=collapse data-target=#addFaq aria-expanded=false class="collapsed title-active" role=button ng-click="isCollapsedA = !isCollapsedA"><h4 class=box-title>Aggiungi Faq <i ng-class="{\'fa fa-angle-down\': !isCollapsedA, \'fa fa-angle-up\': isCollapsedA}" aria-hidden=true class="fa fa-angle-down"></i></h4></a></div><div id=addFaq class="panel-collapse collapse"><div class=box-body><form name=formCategory ng-model=vm.form><div class=row><div class=col-sm-6><div class=form-group><label>Ordine</label><input ng-model=vm.form.faq_number name=faq_number type=number class=form-control></div></div><div class=col-sm-6><div class=form-group><label>Categoria</label><select ng-init="vm.form.category_type = vm.models.faq_categories[0]" ng-model=vm.form.category_type class=form-control ng-options="option.title for option in vm.models.faq_categories track by option.id" ng-if="vm.models.faq_categories  && vm.models.faq_categories.length > 0"></select><div ng-if="!vm.models.faq_categories || vm.models.faq_categories.length < 1" class=label-create-faqcategory><a ui-sref=main.admin.category>Crea una categoria</a></div></div></div></div><div class=row><div class=col-sm-6><div class=form-group><label>Domanda</label><ckeditor-color model=vm.form.question></ckeditor-color></div></div><div class=col-sm-6><div class=form-group><label>Risposta</label><ckeditor-color model=vm.form.answer></ckeditor-color></div></div></div><div class=row><div class=col-sm-12><input type=button class="btn btn-success pull-right" value="Aggiungi Faq" ng-click=vm.addRow()></div></div></form><div ng-show=vm.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div></div></div><div class="box box-default"><div class=box-header><a data-toggle=collapse data-target=#showFaq aria-expanded=false class="collapsed title-active" role=button ng-click="isCollapsed = !isCollapsed"><h4 class=box-title>Tutte le Faq <i ng-class="{\'fa fa-angle-up\': !isCollapsed, \'fa fa-angle-down\': isCollapsed}" aria-hidden=true class="fa fa-angle-up"></i></h4></a></div><div id=showFaq box-expander="" class="panel-collapse collapse in ng-isolate-scope"><div class=box-body><form name=showCategory ng-submit=vm.submit() ng-model=vm.form ng-if="vm.faqs.length > 0"><div class=row><div class=col-xs-12><table class="table table-responsive"><tbody><tr><th>Ordine</th><th>Domanda</th><th>Risposta</th><th>Categoria</th><th></th></tr><tr ng-repeat-start="row in vm.faqs  | orderBy:\'faq_number\'" ng-if="row._destroy == false || !row._destroy"><td ng-bind-html=row.faq_number></td><td ng-bind-html=row.question width=183></td><td ng-bind-html=row.answer></td><td width=200>{{row.category_type.title}}</td><td width=100><div class="pull-right opacity-transition"><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse data-target=#open-text-row-{{row.id}}-{{$index}}><i class="fa fa-pencil"></i> </a><a role=button class="btn btn-sm btn-danger" ng-click="row._destroy=true"><i class="fa fa-trash"></i></a></div></td></tr><tr ng-repeat-end class="collapse background-gray" id=open-text-row-{{row.id}}-{{$index}}><td colspan=8><div class=separator></div><div class=col-sm-6><div class=form-group><label>Modifica Ordine</label><input ng-model=row.faq_number name=faq_number type=number class=form-control></div></div><div class=col-sm-6><div class=form-group><label>Modifica Categoria</label><select ng-init="row.category_type = row.category_temp" ng-model=row.category_type class=form-control ng-options="option.title for option in vm.models.faq_categories track by option.faq_category_id" ng-if="vm.models.faq_categories  && vm.models.faq_categories.length > 0"></select><div ng-if="!vm.models.faq_categories || vm.models.faq_categories.length < 1" class=label-create-faqcategory><a ui-sref=main.admin.category>Crea una categoria</a></div></div></div><div class=col-sm-6><label>Modifica Domanda</label><ckeditor-color model=row.question></ckeditor-color></div><div class=col-sm-6><label>Modifica Risposta</label><ckeditor-color model=row.answer></ckeditor-color></div><div class=separator></div></td></tr></tbody></table></div></div><div class=row><div class=col-sm-12><input type=submit class="btn btn-success pull-right" value=Salva></div></div></form><div ng-if="vm.faqs.length < 1"><p>Nessuna Faq presente</p><div class=separator></div></div><div ng-show=vm.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div></div></div></section></section>'),
e.put("app/pages/glossary/glossary.html",""),e.put("app/pages/login/login.html",'<div class="login login-box"><div class=login-logo><img src=/assets/images/logo-login.png alt="English Galore"></div><!-- /.login-logo --><div class=login-box-body><p class=login-box-msg>Sign in to start your session</p><form id=loginForm name=loginForm ng-submit=vm.login()><div class="form-group has-feedback" ng-class="{\'has-error\': loginForm.email.$dirty && loginForm.email.$invalid}"><input ng-model=vm.user.email name=email type=email class=form-control placeholder=Email required> <span class="glyphicon glyphicon-envelope form-control-feedback"></span> <span ng-show=loginForm.email.$dirty ng-messages=loginForm.email.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span> <span ng-message=email>Inserire un indirizzo email valido</span></span></div><div class="form-group has-feedback" ng-class="{\'has-error\': loginForm.password.$dirty && loginForm.password.$invalid}"><input ng-model=vm.user.password name=password type=password class=form-control placeholder=Password required> <span class="glyphicon glyphicon-lock form-control-feedback"></span> <span ng-show=loginForm.password.$dirty ng-messages=loginForm.password.$error class=help-block role=alert><span ng-message=required>Questo campo è obbligatorio</span></span></div><div class=row><!-- /.col --><div class=col-xs-12><button ng-disabled=loginForm.$invalid type=submit class="btn btn-success btn-block btn-flat">Sign In</button></div><!-- /.col --></div></form></div><!-- /.login-box-body --></div>'),e.put("app/pages/main/main.html","<div class=animate ui-view></div>"),e.put("app/pages/profile/profile.html","<div class=profile><section class=content-header><h1>Gestione Profilo</h1></section></div>"),e.put("app/pages/unit/unit.html","<section class=unit><section class=content-header><h1>{{vm.models.current_unit.title}} <span ng-if=!vm.models.current_unit.published class=title-bozza>- Bozza</span> <span ng-if=vm.models.current_unit.published class=title-pubblicata>- Pubblicata</span></h1><div class=pull-right><toggle-switch model=vm.models.current_unit></toggle-switch></div></section><section class=content><section-unit unit=vm.models.current_unit></section-unit><section-a section=vm.models.current_unit_section_a></section-a><section-b section=vm.models.current_unit_section_b></section-b><section-c section=vm.models.current_unit_section_c></section-c><section-d section=vm.models.current_unit_section_d></section-d><section-e section=vm.models.current_unit_section_e></section-e></section></section>"),e.put("app/pages/user/user.html",'<section class=unit><section class=content-header><h1>Utenti</h1></section><section class=content><div class="box box-default"><div class=box-header><div class=box-tools><div class="input-group input-group-sm" style="width: 150px"><input type=text name=table_search class="form-control pull-right" placeholder=Search ng-model=vm.model.search><div class=input-group-btn><button type=submit class="btn btn-default"><i class="fa fa-search"></i></button></div></div></div></div><div class=separator></div><div class=box-body><div class=row><div class=col-xs-12><table class="table table-responsive table-striped"><tr><th>Nome</th><th>Email</th><th>Ruolo</th></tr><tr dir-paginate="user in vm.models.users[0].users  | filter:vm.model.search | itemsPerPage: 20" current-page=vm.models.users[0].pagination.current_page total-items=vm.models.users[0].pagination.total><td>{{user.firstname}} {{user.lastname}}</td><td>{{user.email}}</td><td>{{user.role}}</td></tr></table></div></div></div><div class="box-footer clearfix"><div class=pull-right><dir-pagination-controls on-page-change=vm.users.getUserPage(newPageNumber)></dir-pagination-controls></div></div></div></section></section>'),e.put("app/components/exercise/destroy/destroy.html",'<div class=modal-header><a role=button class=close ng-click=exerciseDestroy.cancel()><span aria-hidden=true>×</span></a><h3 class=modal-title>Sei sicuro?</h3></div><div class=modal-body>Questa operazione <strong>non è reversibile</strong>.</div><div class=modal-footer><a role=button class="btn btn-blue pull-left" ng-click=exerciseDestroy.cancel()>Annulla</a> <a role=button class="btn btn-success btn-red" ng-click=exerciseDestroy.ok()>Elimina esercizio</a></div>'),e.put("app/components/exercise/exerciseShow/exerciseShow.html",'<div class="content exercise"><form ng-submit=exerciseShow.submit($event) ng-model=exerciseShow.form><div class=row><div class=col-sm-6><div class=form-group><input type=hidden ng-init="exerciseShow.form.id = exerciseShow.model.id" ng-model=exerciseShow.form.id><label>Numero Esercizio</label><select ng-init="exerciseShow.form.exercise_number = exerciseShow.model.exercise_number" ng-model=exerciseShow.form.exercise_number class=form-control ng-options="n for n in [] | range:1:6" required></select></div></div><div class=col-sm-6><div class=form-group><label>Tipologia Esercizio</label><select ng-init="exerciseShow.exercise_type_temp = {id: exerciseShow.model.exercise_type}" ng-model=exerciseShow.exercise_type_temp class=form-control ng-options="option.name for option in exerciseShow.data.availableOptions track by option.id" required></select></div></div><div class=col-sm-6><div class=form-group ng-class=""><label>Titolo Esercizio</label><input ng-init="exerciseShow.form.title = exerciseShow.model.title" ng-model=exerciseShow.form.title type=text class=form-control placeholder="Inserisci il titolo dell\'esercizio" required></div></div><div class=col-sm-6><div class=form-group ng-class=""><label>Sottotitolo Esercizio</label><input ng-init="exerciseShow.form.subtitle = exerciseShow.model.subtitle" ng-model=exerciseShow.form.subtitle type=text class=form-control placeholder="Inserisci il sottotitolo dell\'esercizio" required></div></div></div><div class=row><div class=col-sm-6><div class=form-group ng-init="exerciseShow.form.exercise_tips = exerciseShow.model.exercise_tips"><label for="">Tip Esercizio</label><ckeditor-color model=exerciseShow.form.exercise_tips></ckeditor-color><div class=separator></div><a ngf-select=exerciseShow.uploadImageTipFile($file) ngf-multiple=false ngf-allow-dir=false class=upload-video-label instance=exerciseShow.form.image_tip><label><i class="fa fa-upload"></i> Carica Immagine del Tip</label></a><div ng-if="exerciseShow.model.exercise_tips_image_url && !exerciseShow.form.image_tip.name" class=url-video-box><span>Immagine: </span><a href={{exerciseShow.model.exercise_tips_image_url}} target=_blank>{{exerciseShow.model.exercise_tips_image_filename}}</a><br></div><div ng-if=exerciseShow.form.image_tip.name class=url-video-box><span>Immagine: </span>{{exerciseShow.form.image_tip.name}}<br></div></div></div><div class=col-sm-6 ng-if="(exerciseShow.exercise_type_temp.id > 0 && exerciseShow.exercise_type_temp.id < 6) || exerciseShow.exercise_type_temp.id === 8"><div class=form-group ng-init="exerciseShow.form.exercise_text = exerciseShow.model.exercise_text"><label for="">Testo Esercizio</label><ckeditor-color model=exerciseShow.form.exercise_text></ckeditor-color></div></div></div><div class=separator></div><div class=row ng-if="exerciseShow.exercise_type_temp.id === 6 || exerciseShow.exercise_type_temp.id === 9"><exercise-image-text idex=exerciseShow.model.id model=exerciseShow.form.exercise_image_text_items ng-init="exerciseShow.form.exercise_image_text_items = exerciseShow.model.exercise_image_text_items"></exercise-image-text></div><div class=row ng-if="exerciseShow.exercise_type_temp.id === 7"><exercise-text-text idex=exerciseShow.model.id model=exerciseShow.exercise_text_text_items ng-init="exerciseShow.exercise_text_text_items = exerciseShow.model.exercise_text_text_items"></exercise-text-text></div><div class=separator></div><div class=row><div class=col-sm-12><input type=submit class="btn btn-success pull-right btn-blue" value="Salva Esercizio"> <input type=button ng-click=exerciseShow.destroy(exerciseShow.form.id) class="btn btn-success pull-right btn-red" value="Elimina Esercizio"></div></div><div ng-show=exerciseShow.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></form></div>'),e.put("app/pages/faq/category/category.html",'<section class=unit><section class=content-header><h1>Categorie</h1></section><section class=content><div class="box box-default"><div class=box-header></div><div class=box-body><form name=formCategory ng-submit=vm.submit() ng-model=vm.form><div class=row><div class=col-xs-12><table class="table table-responsive"><tbody><tr><th>Ordine</th><th>Categoria</th><th></th></tr><tr><td width=80px><div class=form-group><input ng-model=vm.form.faq_category_number name=faq_category_number type=number class=form-control></div></td><td><div class=form-group><input ng-model=vm.form.title name=title type=text class=form-control placeholder="Inserisci la categoria"></div></td><td class=text-center width=93px><a role=button class="btn btn-sm btn-default accordion-toggle pull-right" data-toggle=collapse ng-click=vm.addRow()><i class="fa fa-plus" aria-hidden=true></i></a></td></tr><tr ng-repeat-start="row in vm.faq_categories  | orderBy:\'faq_category_number\'" ng-if="row._destroy == false || !row._destroy"><td>{{row.faq_category_number}}</td><td>{{row.title}}</td><td><div class="pull-right opacity-transition"><a role=button class="btn btn-sm btn-default accordion-toggle" data-toggle=collapse data-target=#open-text-row-{{row.id}}-{{$index}}><i class="fa fa-pencil"></i> </a><a role=button class="btn btn-sm btn-danger" ng-click=vm.destroy(row)><i class="fa fa-trash"></i></a></div></td></tr><tr ng-repeat-end class="collapse background-gray" id=open-text-row-{{row.id}}-{{$index}} ng-if="row._destroy == false || !row._destroy"><td colspan=8><div class=col-md-2><div class=form-group><label>Modifica Ordine</label><input ng-model=row.faq_category_number name=faq_category_number type=number class=form-control></div></div><div class=col-md-9><label>Modifica Categoria</label><input ng-model=row.title name=title type=text class=form-control placeholder="Inserisci la categoria"></div></td></tr></tbody></table></div></div><div class=row><div class=col-sm-12><input type=submit class="btn btn-success pull-right" value=Salva></div></div></form></div><div ng-show=vm.loading class="overlay absolute fill"><i class="fa fa-refresh fa-spin"></i></div></div></section></section>'),e.put("app/pages/unit/destroy/destroy.html",'<div class=modal-header><a role=button class=close ng-click=unitDestroy.cancel()><span aria-hidden=true>×</span></a><h3 class=modal-title>Sei sicuro?</h3></div><div class=modal-body>Se elimini questa unità, verranno eliminate anche tutte le sezioni associate.<br>Questa operazione <strong>non è reversibile</strong>.</div><div class=modal-footer><a role=button class="btn btn-blue pull-left" ng-click=unitDestroy.cancel()>Annulla</a> <a role=button class="btn btn-success btn-red" ng-click=unitDestroy.ok()>Elimina unità</a></div>'),e.put("app/pages/faq/category/destroy/destroy.html",'<div class=modal-header><a role=button class=close ng-click=faqCategoryDestroy.cancel()><span aria-hidden=true>×</span></a><h3 class=modal-title>Sei sicuro?</h3></div><div class=modal-body>Eliminando la categoria verranno eliminate tutte le Faq associate.<br>Questa operazione <strong>non è reversibile</strong>.</div><div class=modal-footer><a role=button class="btn btn-blue pull-left" ng-click=faqCategoryDestroy.cancel()>Annulla</a> <a role=button class="btn btn-success btn-red" ng-click=faqCategoryDestroy.ok()>Elimina</a></div>')}]);
//# sourceMappingURL=../maps/scripts/app-2a5c5d4be5.js.map
